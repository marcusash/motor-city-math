# Motor City Math â€” Hint System Spec (D-10)

**Author:** Design Agent
**Date:** 2026-02-17
**Status:** proposed
**Implements:** Feature #7 (3-layer answer reveal)
**Blocking:** Agent A â†’ grading engine, Agent R â†’ hints + solutions for question bank

---

## Purpose

When Kai gets a question wrong, he doesn't just see the answer â€” he gets scaffolded help. Three layers, revealed one at a time:

1. **Hint** â€” A nudge in the right direction. Try again.
2. **Answer** â€” The correct answer, no explanation.
3. **Solution** â€” Full step-by-step walkthrough.

This is how good tutoring works: don't give the answer until the student has tried with a hint first.

---

## Flow

```
  Kai submits test
        â”‚
        â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Question scored â”‚
  â”‚  CORRECT? â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Green border. "âœ…" No further action.
  â”‚                  â”‚
  â”‚  INCORRECT? â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Red border. Show [GET HINT] button.
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼ (Kai clicks GET HINT)
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  ğŸ’¡ Think about the power rule: (x^a)^b = x^ab  â”‚  â† Layer 1: Hint
  â”‚                                                  â”‚
  â”‚  [ TRY AGAIN ]   [ SHOW ANSWER ]                â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                    â”‚
        â”‚                    â–¼ (Kai clicks SHOW ANSWER)
        â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚              â”‚  The answer is: 18xÂ²yÂ²       â”‚  â† Layer 2: Answer
        â”‚              â”‚                               â”‚
        â”‚              â”‚  [ SHOW SOLUTION ]            â”‚
        â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                           â”‚
        â–¼ (Kai retries)             â–¼ (Kai clicks SHOW SOLUTION)
  Re-enable input             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  Keep hint visible           â”‚  Step 1: Apply product rule      â”‚
                              â”‚    (3xâµ)(6xâ»Â³) = 18xâµâºâ½â»Â³â¾     â”‚
                              â”‚    = 18xÂ²                         â”‚
                              â”‚                                    â”‚
                              â”‚  Step 2: Apply product rule       â”‚
                              â”‚    (yâ»Â²)(yâ´) = yâ»Â²âºâ´ = yÂ²       â”‚
                              â”‚                                    â”‚
                              â”‚  Step 3: Combine                  â”‚
                              â”‚    18xÂ²yÂ²                          â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Visual Design

### Layer 1: Hint

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ’¡ HINT                                                      â”‚
â”‚                                                              â”‚
â”‚  Think about the power rule: when multiplying like bases,    â”‚
â”‚  add the exponents. What is 5 + (-3)?                        â”‚
â”‚                                                              â”‚
â”‚  [ TRY AGAIN ]              [ SHOW ANSWER â†’ ]               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- **Background:** `#FFFFF0` (warm hint yellow, very light)
- **Border:** `1px solid #E8A317` (warning yellow)
- **Icon:** ğŸ’¡ emoji
- **Label:** "HINT" in uppercase, `#E8A317`, 600 weight, 0.85em
- **Text:** dark-gray, 1em, max 2 sentences
- **Buttons:** "TRY AGAIN" (btn-secondary, pistons-blue) + "SHOW ANSWER â†’" (btn-ghost)

### Layer 2: Answer

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ“ ANSWER                                                     â”‚
â”‚                                                              â”‚
â”‚  18xÂ²yÂ²                                                      â”‚
â”‚                                                              â”‚
â”‚  [ SHOW SOLUTION â†’ ]                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- **Background:** `#F0FFF4` (light green)
- **Border:** `1px solid #1B7D3A`
- **Icon:** âœ“
- **Label:** "ANSWER" in uppercase, `#1B7D3A`, 600 weight
- **Answer text:** 1.2em, 700 weight, navy
- **Button:** "SHOW SOLUTION â†’" (btn-ghost)

### Layer 3: Solution

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ SOLUTION                                                  â”‚
â”‚                                                              â”‚
â”‚  Step 1: Apply the product rule for exponents                â”‚
â”‚    (3xâµ)(6xâ»Â³) = (3 Â· 6)(xâµ Â· xâ»Â³) = 18xâµâºâ½â»Â³â¾ = 18xÂ²   â”‚
â”‚                                                              â”‚
â”‚  Step 2: Apply the product rule for y terms                  â”‚
â”‚    (yâ»Â²)(yâ´) = yâ»Â²âºâ´ = yÂ²                                  â”‚
â”‚                                                              â”‚
â”‚  Step 3: Combine                                             â”‚
â”‚    18xÂ²yÂ²                                                     â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- **Background:** white
- **Border:** `1px solid #BEC0C2`
- **Icon:** ğŸ“
- **Label:** "SOLUTION" in uppercase, mid-gray, 600 weight
- **Steps:** Numbered, each step is a `<div>` with `margin-bottom: 12px`
- **Math:** Rendered in KaTeX
- **No further buttons** â€” this is the final layer

---

## CSS

```css
.hint-layer {
    margin-top: 12px;
    padding: 16px 20px;
    border-radius: 4px;
    animation: slideDown 0.3s ease-out;
}

@keyframes slideDown {
    from { opacity: 0; max-height: 0; padding: 0 20px; }
    to { opacity: 1; max-height: 500px; padding: 16px 20px; }
}

.hint-layer.hint {
    background: #FFFFF0;
    border: 1px solid #E8A317;
}
.hint-layer.answer {
    background: #F0FFF4;
    border: 1px solid #1B7D3A;
}
.hint-layer.solution {
    background: white;
    border: 1px solid #BEC0C2;
}

.hint-label {
    font-size: 0.85em;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 8px;
}

.hint-actions {
    display: flex;
    gap: 12px;
    margin-top: 12px;
}

.solution-step {
    margin-bottom: 12px;
    padding-left: 8px;
    border-left: 2px solid #BEC0C2;
}
.solution-step strong {
    color: #002D62;
}
```

---

## Behavior Rules

1. **Layers are additive.** Hint stays visible when answer appears. Answer stays when solution appears. Kai can see the full progression.
2. **"Try Again" re-enables the input.** The hint stays visible as a reference. If Kai gets it right on retry, the question turns green and hint collapses.
3. **Correct answers never show hints.** Green border + "âœ…" only. No hint button.
4. **Layers animate in.** Slide down + fade (0.3s). No abrupt layout shifts.
5. **Each layer has exactly one call-to-action.** Hint: TRY AGAIN or SHOW ANSWER. Answer: SHOW SOLUTION. Solution: nothing. This respects ADHD â€” one choice at a time.
6. **Print:** All three layers print if visible. Useful for review sheets.

---

## Data Requirements (from Agent R)

Each question in `data/questions.json` must have:

```json
{
    "hint": "Think about the power rule: (x^a)^b = x^(ab).",
    "answer": "18x^2y^2",
    "solution_steps": [
        "Step 1: Apply product rule â€” (3xâµ)(6xâ»Â³) = 18xÂ²",
        "Step 2: Apply product rule â€” (yâ»Â²)(yâ´) = yÂ²",
        "Step 3: Combine â€” 18xÂ²yÂ²"
    ]
}
```

- **Hint:** 1-2 sentences max. Points to the concept, not the answer. Written at Kai's level.
- **Answer:** The exact correct answer (used for display, not grading â€” grading uses tolerance).
- **Solution steps:** Array of strings, each is one numbered step. KaTeX math inline.

---

*Agent A: Implement as a reusable component â€” every question card gets a hint container that activates on incorrect submission. Agent R: Every question needs hint + answer + solution_steps before the 3-layer reveal works.*

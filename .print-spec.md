# Motor City Math — Print Layout Spec (D-11)

**Author:** Design Agent
**Date:** 2026-02-17
**Status:** proposed
**Blocking:** Agent A → A-4 (Print stylesheet `shared/print.css`)

---

## Audit Findings

**Current state:** 11/12 files have inline `@media print` blocks. `exponents_exam.html` uses `shared/print.css`. The print CSS is nearly identical across all files (~50 lines each, heavily duplicated).

**What works well:**
- Questions avoid page breaks (`page-break-inside: avoid`)
- Buttons and interactive elements hidden
- Answer feedback hidden
- Color adjust preserved
- Charts get `page-break-inside: avoid`

**What's missing:**
- No print header with student name/date fields
- Charts forced to grayscale (loses data clarity on color-coded series)
- No page numbers
- No test title repeated on each page
- Answer key not printable as a separate sheet
- Fixed widths on some elements cause overflow on paper

---

## Print Header (New)

Every test prints with a header for student name, date, and period. Hidden on screen.

```
┌──────────────────────────────────────────────────────────────────────┐
│                                                                      │
│  ALGEBRA II: EXPONENTS — Unit 1                                      │  bold, 14pt
│  Motor City Math                                                     │  italic, 10pt
│                                                                      │
│  Name: _________________________________  Date: __________           │
│  Period: ______                                                      │
│                                                                      │
│  ─────────────────────────────────────────────────────────────────   │
│                                                                      │
└──────────────────────────────────────────────────────────────────────┘
```

### HTML (added to every test)

```html
<div class="print-header">
    <div class="print-title">Algebra II: Exponents — Unit 1</div>
    <div class="print-brand">Motor City Math</div>
    <div class="print-fields">
        <span>Name: <span class="print-line"></span></span>
        <span>Date: <span class="print-line print-line--short"></span></span>
    </div>
    <div class="print-fields">
        <span>Period: <span class="print-line print-line--xs"></span></span>
    </div>
</div>
```

### CSS

```css
/* Hidden on screen */
.print-header {
    display: none;
}

@media print {
    .print-header {
        display: block;
        margin-bottom: 24px;
        padding-bottom: 12px;
        border-bottom: 2px solid #000;
    }
    .print-title {
        font-size: 14pt;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }
    .print-brand {
        font-size: 10pt;
        font-style: italic;
        color: #666;
        margin-bottom: 12px;
    }
    .print-fields {
        margin-top: 8px;
        font-size: 11pt;
    }
    .print-line {
        display: inline-block;
        width: 250px;
        border-bottom: 1px solid #000;
        margin-left: 4px;
    }
    .print-line--short {
        width: 120px;
    }
    .print-line--xs {
        width: 60px;
    }
}
```

---

## Consolidated Print CSS (`shared/print.css`)

Replaces the ~50 duplicated lines in each file.

```css
@media print {
    /* === Reset === */
    * {
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
    }

    body {
        background: white !important;
        padding: 0;
        margin: 0;
        font-size: 11pt;
        line-height: 1.4;
        color: #000 !important;
    }

    /* === Container === */
    .container {
        max-width: 100%;
        padding: 12px;
        margin: 0;
        box-shadow: none;
    }

    /* === Hidden elements === */
    .btn-primary,
    .btn-secondary,
    .btn-ghost,
    .submit-btn,
    .print-btn,
    .answer-key-btn,
    .answer-key-overlay,
    .answer-key-modal,
    .result,
    .answer-feedback,
    .score-card,
    .standards-grid,
    .streak-counter,
    .progress-bar-sticky,
    .timer,
    .timer-toast,
    .hint-layer,
    .feedback-area,
    .graph-actions,
    .graph-instructions,
    .self-grade-note,
    .math-input-toggle,
    .math-input-panel {
        display: none !important;
    }

    /* === Show print header === */
    .print-header {
        display: block !important;
    }

    /* === Typography === */
    h1 {
        font-size: 16pt;
        color: #000 !important;
        margin-bottom: 4px;
    }
    h2 {
        font-size: 13pt;
        color: #000 !important;
    }
    .question-number {
        color: #000 !important;
    }

    /* === Question cards === */
    .question-card {
        border: 1px solid #999;
        border-left: 3px solid #000;
        box-shadow: none;
        padding: 16px;
        margin-bottom: 12px;
        page-break-inside: avoid;
        break-inside: avoid;
    }

    /* === Inputs become blank lines === */
    input[type="text"],
    input[type="number"],
    .input-field {
        border: none !important;
        border-bottom: 1px solid #000 !important;
        background: transparent !important;
        box-shadow: none !important;
        width: 200px !important;
        padding: 4px 0 !important;
        font-size: 11pt;
    }

    textarea, .textarea-field {
        border: 1px solid #999 !important;
        background: transparent !important;
        min-height: 60px;
        resize: none;
    }

    /* === Charts: keep colors for data clarity === */
    .chart-container {
        page-break-inside: avoid;
        break-inside: avoid;
        border: 1px solid #000;
    }
    .chart-container canvas {
        max-width: 100% !important;
        height: auto !important;
        /* NO grayscale — color is meaningful in data charts */
    }

    /* === Graph canvas === */
    .graph-container {
        page-break-inside: avoid;
        break-inside: avoid;
        border: 1px solid #000;
    }

    /* === Page breaks === */
    h2 {
        page-break-after: avoid;
    }

    /* === Footer === */
    .print-footer {
        display: block !important;
        text-align: center;
        font-size: 9pt;
        color: #999;
        margin-top: 24px;
        border-top: 1px solid #ccc;
        padding-top: 8px;
    }
}
```

---

## Key Decisions

### Charts: Color, Not Grayscale

The current CSS forces charts to `grayscale(100%)`. This loses information when charts use color to distinguish data series (e.g., f(x) in blue vs g(x) in red). **Keep charts in color** — modern printers handle color, and even on B&W printers the Chart.js line patterns (solid vs dashed) distinguish series.

### Inputs Become Blank Lines

On screen, inputs are interactive fields. In print, they become underlined blank spaces for writing answers by hand. The input border is removed except the bottom border, creating a clean fill-in-the-blank look.

### Answer Key: Separate Print

The answer key overlay is hidden by default in print. To print the answer key:
1. Show the answer key overlay on screen
2. A future "Print Answer Key" button prints only the key (separate `@media print` sheet)
3. For now: answer key is screen-only. Teachers can screenshot if needed.

### Page Numbers

CSS `@page` rules for page numbers are not reliably supported across browsers. Skip page numbering — the print header on page 1 is sufficient.

---

## Print Footer (New)

Appears at the bottom of the last printed page:

```html
<div class="print-footer">
    Motor City Math · Algebra II · Seattle Academy
</div>
```

```css
.print-footer {
    display: none;  /* hidden on screen */
}
```

---

## Migration Plan

1. Agent A creates `shared/print.css` with the consolidated rules above
2. Migrate one file at a time: remove inline `@media print` block, add `<link rel="stylesheet" href="../shared/print.css">`
3. Add `.print-header` and `.print-footer` HTML to each file
4. Test: `Ctrl+P` in Chrome — verify layout, verify inputs show as blanks, verify charts render
5. Agent F validates: no visual regressions on any of the 12 files

---

*Agent A: The print CSS removes ~50 lines of duplicated code per file (600 lines total across 12 files). The print header HTML is ~10 lines added to each file. Test with Chrome print preview — it's the most reliable cross-browser baseline. Safari and Firefox may have minor differences in page break behavior.*

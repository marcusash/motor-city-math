# Agent A Work Split â€” Application Agent Team

**Date:** 2026-02-17  
**Context:** Two Application Agents are now active on Motor City Math. This doc defines who does what.

---

## Team Roles

| Role | Agent | Focus |
|------|-------|-------|
| **Staff Engineer (FA)** | Incoming senior agent | Architecture, MVP exam build, dashboard, complex features |
| **Agent A (Original)** | This agent | Mechanical tasks, bug fixes, migrations, grading deployment |

---

## What's Done (Agent A completed)

- [x] **A-1:** Shared CSS â†’ `shared/styles.css` (13KB Pistons design system)
- [x] **A-2:** Shared JS â†’ `shared/scripts.js` (gradeTest engine, answer key, save/load, print)
- [x] **A-3:** Chart.js theme â†’ `shared/chart-theme.js`
- [x] **A-4:** Print stylesheet â†’ `shared/print.css`
- [x] **A-5:** Migrated all 13 HTML files to shared CSS/JS + Pistons palette
- [x] **A-6:** Built shared `gradeTest(config)` engine in `shared/scripts.js`
- [x] **A-7:** Deployed auto-grading to all 11 files that lacked it

Other agents have shipped:
- **Agent R:** Verified all 15 MVP answers (commit `cb15ac5`), wrote hints (`data/mvp-exam-hints.json`)
- **Agent F:** Built 3 test suites for MVP (graphing e2e, grading, score storage â€” 182 tests)
- **Agent D:** Full spec in `.mvp-spec.md` (448 lines)

---

## URGENT: MVP Exam (`nonlinear_exam_mvp.html`)

**Status:** Not started. All dependencies met (R verified, F has tests, D spec complete).  
**Spec:** `.mvp-spec.md` â€” read the whole thing.  
**Hints:** `data/mvp-exam-hints.json` â€” Agent R's verified hints for all 15 questions.  
**Tests:** `tests/f-validation/mvp-*.test.js` â€” 3 test suites ready.

### What it needs:
1. Single HTML file linking `shared/styles.css`, `shared/scripts.js`, `shared/print.css`, MathJax
2. 15 questions across 4 sections (A: identify/transform, B: solve equations, C: graph/analyze, D: apply)
3. Sticky notation bar, parent function dropdowns, Â± labeled inputs, radio buttons for Q14
4. Canvas graphing for Q12 (parabola) and Q13 (rational) with coordinate tooltip (snap 0.25), point-check algorithm
5. Extended score storage: per-question type/standard metadata, attempt history (FIFO 20), best-score tracking
6. SAAS 4-point grade display (â‰¥92=4, â‰¥82=3, â‰¥70=2, <70=1)
7. Answer key modal (password: 121274)

### Verified answers (from Agent R commit `cb15ac5`):
| Q | Answer | Input Type |
|---|--------|-----------|
| Q1 | parent = "cubic" | dropdown |
| Q2 | parent = "absolute", x-intercepts = -1, -7 | dropdown + 2 inputs |
| Q3 | parent = "quadratic", x-intercepts = 3, -1 | dropdown + 2 inputs |
| Q4 | x = 2 | single input |
| Q5 | x = 0.5, x = -1.5 | 2 inputs (Â±) |
| Q6 | x = Â±2.236 (Â±âˆš5) | 2 inputs (Â±) |
| Q7 | x = 2 | single input |
| Q8 | x = 5.667 (17/3) | single input |
| Q9 | x = 3 | single input |
| Q10 | x = Â±2.236 (Â±âˆš5) | 2 inputs (Â±) |
| Q11 | x = 9 | single input |
| Q12 | graph: f(x) = -(x+2)Â²+5, vertex (-2,5) | canvas |
| Q13 | graph: f(x) = 3/(x-1)-2, VA x=1, HA y=-2 | canvas + inputs |
| Q14 | option B: r = âˆš(A/Ï€) | radio buttons |
| Q15 | t = 20 hours | single input |

---

## Proposed Work Split

### Staff Engineer (FA) â€” Senior/Architecture

| Task | Description | Priority |
|------|-------------|----------|
| **MVP Build** | Build `nonlinear_exam_mvp.html` per `.mvp-spec.md` | ðŸ”´ URGENT |
| **A-8: Dashboard** | Rebuild `index.html` as score dashboard pulling from localStorage | High |
| **A-12: JSON Renderer** | Build question renderer that reads from `data/questions.json` | High |
| **A-13: Practice Mode** | Randomized question selection from question bank | Medium |
| **A-14: Test Builder** | Generate new tests from question pool | Medium |
| **Score Storage Architecture** | Design the `mcm_scores` localStorage schema used by all tests | High |

### Agent A (Original) â€” Mechanical/Migration

| Task | Description | Priority |
|------|-------------|----------|
| **Bug: index.html grading** | Answers object is copy-pasted from index_calc.html â€” all wrong. Fix using `data/questions.json` as source of truth | High |
| **Bug: index_calc.html Q16b** | 28000Ã—0.85â´ = $14,616.18 not $14,636.56 | High |
| **Bug: final_exam answer key** | 6 wrong headline answers in answer key modal (Q1, Q5, Q6, Q7, Q16b, Q17b) | High |
| **A-9: KaTeX Migration** | Replace MathJax with KaTeX in all 13 files for faster render | Medium |
| **A-10: Per-standard scoring** | Add standard tags to each question, show per-standard breakdown in footer | Medium |
| **A-11: Streak counter** | Track consecutive correct answers, show streak in UI | Low |
| **Norm() improvements** | Handle superscript chars (xÂ¹Â¹ vs x^11), dollar signs, commas in parseFloat | Medium |

---

## Key Files & Architecture

```
shared/
  styles.css      â€” 13KB Pistons design system (all files link this)
  scripts.js      â€” gradeTest(), showAnswerKey(), saveResults(), loadResults(), etc.
  chart-theme.js  â€” Chart.js color defaults
  print.css       â€” @media print rules

data/
  questions.json         â€” Agent R's verified question bank (142 questions)
  mvp-exam-hints.json    â€” Hints for MVP exam (Agent R)

tests/
  f-validation/
    mvp-grading.test.js       â€” 201 lines
    mvp-graphing-e2e.test.js  â€” 252 lines  
    mvp-score-storage.test.js â€” 328 lines
```

### How gradeTest() works (in `shared/scripts.js`):
```js
gradeTest({
  questions: [
    [['q1'], 'feedback1'],    // [[input IDs], feedback div ID]
    [['q2a','q2b'], 'feedback2']  // multiple inputs per question
  ],
  feedbacks: [
    ['âœ… Correct!', 'âŒ Review this one.'],  // [correct msg, incorrect msg]
  ],
  storageKey: 'mcm-nonlinear-exam-mvp'
})
```

Each file defines its own wrapper (e.g., `gradeCalcTest()`) that calls `gradeTest()` with file-specific config. The MVP will need to extend this for per-question metadata and graph checking.

### Voice guide rules (ADHD):
- Max 12 words per feedback line
- One CTA at a time  
- Celebrate results not effort ("ðŸ”¥ Locked in." not "Good try!")

### Git rules:
- NEVER run `git config` â€” repo uses Marcus's global identity
- Always include `Co-authored-by: Copilot <223556219+Copilot@users.noreply.github.com>`
- Small commits, descriptive messages

---

## Coordination

- **Status board:** `.agent-status.md` â€” update after every completed task
- **File ownership:** `.agents.md` â€” check before editing any file
- **Cross-agent requests:** Post in your section of `.agent-status.md`
- **Marcus questions:** `.marcus-queue.md`
- Staff Engineer drives and tracks both agents' work

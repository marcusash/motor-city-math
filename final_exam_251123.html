<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Algebra 2 - Unit 1 Exam</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="shared/chart-theme.js"></script>
    <link rel="stylesheet" href="shared/styles.css">
    <link rel="stylesheet" href="shared/print.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Algebra 2 Practice Test</h1>
            <div class="subtitle">Unit 1 Assessment - Final Prep</div>
            <div style="margin-top: 20px; padding: 15px; background: #f0f4ff; border-radius: 10px; border: 2px solid #C8102E;">
                <strong>Standards Covered:</strong>
                <ul style="margin: 10px 0 0 0; padding: 0; list-style: none; column-count: 2; column-gap: 30px; text-align: center;">
                    <li style="margin-bottom: 5px;"><strong>Standard 1.a:</strong> Evaluating expressions</li>
                    <li style="margin-bottom: 5px;"><strong>Standard 1.c:</strong> Real-life models and formulas</li>
                    <li style="margin-bottom: 5px;"><strong>Standard 1.d:</strong> Modeling real-life situations</li>
                    <li style="margin-bottom: 5px;"><strong>Standard 2.a:</strong> Multi-step linear equations</li>
                    <li style="margin-bottom: 5px;"><strong>Standard 2.b:</strong> Literal equations</li>
                    <li style="margin-bottom: 5px;"><strong>Standard 2.c:</strong> Linear inequalities</li>
                    <li style="margin-bottom: 5px;"><strong>Standard 2.d:</strong> Graphing inequalities</li>
                    <li style="margin-bottom: 5px;"><strong>Standard 3.a:</strong> Function composition</li>
                    <li style="margin-bottom: 5px;"><strong>Standard 3.b:</strong> Sequence analysis</li>
                    <li style="margin-bottom: 5px;"><strong>Standard 3.c:</strong> Graphing functions</li>
                    <li style="margin-bottom: 5px;"><strong>Standard 3.d:</strong> Graph analysis</li>
                    <li style="margin-bottom: 5px;"><strong>Standard 3.e:</strong> Real-life applications</li>
                    <li style="margin-bottom: 5px;"><strong>Standard 3.f:</strong> Drawing conclusions from graphs</li>
                    <li style="margin-bottom: 5px;"><strong>Standard 3.g:</strong> Inverse functions</li>
                    <li style="margin-bottom: 5px;"><strong>Standard 3.h:</strong> Function operations</li>
                    <li style="margin-bottom: 5px;"><strong>Standard 3.i:</strong> Finding inverse functions</li>
                    <li style="margin-bottom: 5px;"><strong>Standard 4.a:</strong> Function evaluation</li>
                    <li style="margin-bottom: 5px;"><strong>Standard 4.c:</strong> Writing equations from points</li>
                    <li style="margin-bottom: 5px;"><strong>Standard 4.d:</strong> Scatterplots and best fit lines</li>
                    <li style="margin-bottom: 5px;"><strong>Standard 5.a:</strong> Exponential models</li>
                    <li style="margin-bottom: 5px;"><strong>Standard 5.b & 5.c:</strong> Exponential growth/decay</li>
                </ul>
            </div>
        </header>

        <form id="testForm">
            <!-- Q1: Standard 1.a - Evaluating expressions -->
            <div class="question-card">
                <div class="question-number">Question 1 - Standard 1.a</div>
                <div class="question-text">
                    If <span class="math-notation">p = -4</span> and <span class="math-notation">q = 3</span>, evaluate the expression:
                    <br><br>
                    <span class="math-notation">3pq - q²(4p - 2q) + p²q</span>
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea id="work1" placeholder="Show your calculations step by step..."></textarea>
                </div>
                <div class="input-group">
                    <label>Final Answer:</label>
                    <input type="text" id="q1">
                </div>
                <div class="answer-feedback" id="feedback1"></div>
            </div>

            <!-- Q2: Baseball height problem -->
            <div class="question-card">
                <div class="question-number">Question 2</div>
                <div class="question-text">
                    The height <span class="math-notation">h</span>, in meters, of a baseball above the ground <span class="math-notation">t</span> seconds after being hit is modeled by the formula <span class="math-notation">h = 1 + 12t - 4.9t²</span>. 
                    <br><br>
                    How high is the ball 2 seconds after being hit?
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea id="work2" placeholder="Substitute t = 2 and calculate..."></textarea>
                </div>
                <div class="input-group">
                    <label>Height (in meters):</label>
                    <input type="text" id="q2">
                </div>
                <div class="answer-feedback" id="feedback2"></div>
            </div>

            <!-- Q3: Productivity formula -->
            <div class="question-card">
                <div class="question-number">Question 3</div>
                <div class="question-text">
                    A company determines an employee's yearly productivity score using the formula <span class="math-notation">P = (ks - b)/r</span>, where:
                    <ul style="margin-left: 30px; margin-top: 10px;">
                        <li><span class="math-notation">P</span> = productivity score</li>
                        <li><span class="math-notation">k</span> = efficiency multiplier</li>
                        <li><span class="math-notation">s</span> = number of successful projects</li>
                        <li><span class="math-notation">b</span> = baseline adjustment</li>
                        <li><span class="math-notation">r</span> = rating divisor</li>
                    </ul>
                    <br>
                    <strong>a)</strong> Solve the formula for <span class="math-notation">s</span> in terms of <span class="math-notation">P</span>, <span class="math-notation">k</span>, <span class="math-notation">b</span>, and <span class="math-notation">r</span>.
                    <br><br>
                    <strong>b)</strong> An employee has a productivity score of 92, with <span class="math-notation">k = 3.5</span>, <span class="math-notation">b = 18</span>, and <span class="math-notation">r = 2</span>. Use your formula from part (a) to find the number of successful projects <span class="math-notation">s</span>.
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea id="work3" placeholder="a) Show steps to solve for s... b) Substitute values and calculate..."></textarea>
                </div>
                <div class="input-group">
                    <label>a) Formula for s:</label>
                    <input type="text" id="q3a">
                </div>
                <div class="input-group">
                    <label>b) Number of successful projects:</label>
                    <input type="text" id="q3b">
                </div>
                <div class="answer-feedback" id="feedback3"></div>
            </div>

            <!-- Q4: Kayak rental problem -->
            <div class="question-card">
                <div class="question-number">Question 4</div>
                <div class="question-text">
                    A recreation center rents kayaks and charges:
                    <ul style="margin-left: 30px; margin-top: 10px;">
                        <li>$14.50 launch fee</li>
                        <li>$3.90 per hour of paddling</li>
                        <li>A 7% maintenance tax applied to the subtotal</li>
                        <li>A 15% off-peak discount applied to the total rental amount (including tax)</li>
                    </ul>
                    <br>
                    <strong>a)</strong> Write an equation for the total cost <span class="math-notation">C(h)</span> for renting a kayak for <span class="math-notation">h</span> hours during off-peak hours.
                    <br><br>
                    <strong>b)</strong> If a customer paid $49.39 during off-peak hours, how many hours did they rent the kayak? (Round to the nearest tenth.)
                    <br><br>
                    <strong>c)</strong> What would the same rental cost during normal (non-discount) hours?
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea id="work4" placeholder="Write your equation and show all calculations..."></textarea>
                </div>
                <div class="input-group">
                    <label>a) Equation for off-peak hours:</label>
                    <input type="text" id="q4a">
                </div>
                <div class="input-group">
                    <label>b) Hours rented:</label>
                    <input type="text" id="q4b">
                </div>
                <div class="input-group">
                    <label>c) Normal hours cost:</label>
                    <input type="text" id="q4c">
                </div>
                <div class="answer-feedback" id="feedback4"></div>
            </div>

            <!-- Q5: Standard 2.a - Multi-step linear equations -->
            <div class="question-card">
                <div class="question-number">Question 5 - Standard 2.a</div>
                <div class="question-text">
                    Solve for <span class="math-notation">x</span>:
                    <br><br>
                    <span class="math-notation">7x - 4 = 2(3x - 5) - (x + 12)</span>
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea id="work5" placeholder="Show each step of solving the equation..."></textarea>
                </div>
                <div class="input-group">
                    <label>x =</label>
                    <input type="text" id="q5">
                </div>
                <div class="answer-feedback" id="feedback5"></div>
            </div>

            <!-- Q6: Standard 2.b - Literal equations -->
            <div class="question-card">
                <div class="question-number">Question 6 - Standard 2.b</div>
                <div class="question-text">
                    Solve for <span class="math-notation">k</span> in terms of <span class="math-notation">a</span> and <span class="math-notation">b</span>:
                    <br><br>
                    <span class="math-notation">7 + 4k - b = 3a(2k + ab)</span>
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea id="work6" placeholder="Show how you isolate k..."></textarea>
                </div>
                <div class="input-group">
                    <label>k =</label>
                    <input type="text" id="q6">
                </div>
                <div class="answer-feedback" id="feedback6"></div>
            </div>

            <!-- Q7: Standards 2.c & 2.d - Linear inequalities and graphing -->
            <div class="question-card">
                <div class="question-number">Question 7 - Standards 2.c & 2.d</div>
                <div class="question-text">
                    Solve for <span class="math-notation">x</span>:
                    <br><br>
                    <span class="math-notation">-<sup>3</sup>/<sub>4</sub>x + <sup>5</sup>/<sub>2</sub> > <sup>1</sup>/<sub>3</sub>(9x - 6)</span>
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea id="work7" placeholder="Show each step of solving the inequality..."></textarea>
                </div>
                <div class="input-group">
                    <label>Solution:</label>
                    <input type="text" id="q7">
                </div>
                <div class="input-group">
                    <label>Graph description (Is the circle filled or open? Which direction is the arrow?):</label>
                    <textarea id="q7graph" style="min-height: 60px;"></textarea>
                </div>
                <div class="answer-feedback" id="feedback7"></div>
            </div>

            <!-- Q8: Standard 3.a - Function composition -->
            <div class="question-card">
                <div class="question-number">Question 8 - Standard 3.a</div>
                <div class="question-text">
                    Given <span class="math-notation">f(x) = -3x + 7</span> and <span class="math-notation">g(x) = x<sup>2</sup> - 4x - 1</span>
                    <br><br>
                    Find <span class="math-notation">f(g(-3))</span>
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea id="work8" placeholder="Find g(-3) first, then substitute into f(x)..."></textarea>
                </div>
                <div class="input-group">
                    <label>f(g(-3)) =</label>
                    <input type="text" id="q8">
                </div>
                <div class="answer-feedback" id="feedback8"></div>
            </div>

            <!-- Q9: Standard 3.b - Sequence analysis -->
            <div class="question-card">
                <div class="question-number">Question 9 - Standard 3.b</div>
                <div class="question-text">
                    For each sequence below, determine whether it can be modeled by a linear function, an exponential function, or neither. Explain your reasoning for each.
                    <br><br>
                    <div style="margin-left: 20px;">
                        <p style="margin-bottom: 15px;"><strong>A:</strong> 50, 42, 34, 26, 18, ...</p>
                        <p style="margin-bottom: 15px;"><strong>B:</strong> 2, 6, 18, 54, 162, ...</p>
                        <p style="margin-bottom: 15px;"><strong>C:</strong> 2, 5, 10, 17, 26, ...</p>
                        <p style="margin-bottom: 15px;"><strong>D:</strong> -12, -5, 2, 9, 16, ...</p>
                        <p style="margin-bottom: 15px;"><strong>E:</strong> 1, 4, 9, 16, 25, ...</p>
                        <p style="margin-bottom: 15px;"><strong>F:</strong> 729, 486, 324, 216, 144, ...</p>
                    </div>
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea id="work9" placeholder="For each sequence, show your analysis (check differences for linear, ratios for exponential)..."></textarea>
                </div>
                <div class="final-answer-box">
                    <label class="final-answer-label">Final Answers:</label>
                    <div class="input-group">
                        <label>A: Type</label>
                        <input type="text" id="q9a" placeholder="Linear, Exponential, or Neither">
                    </div>
                    <div class="input-group">
                        <label>A: Explanation</label>
                        <textarea id="q9a_exp" style="min-height: 50px;"></textarea>
                    </div>
                    <div class="input-group">
                        <label>B: Type</label>
                        <input type="text" id="q9b" placeholder="Linear, Exponential, or Neither">
                    </div>
                    <div class="input-group">
                        <label>B: Explanation</label>
                        <textarea id="q9b_exp" style="min-height: 50px;"></textarea>
                    </div>
                    <div class="input-group">
                        <label>C: Type</label>
                        <input type="text" id="q9c" placeholder="Linear, Exponential, or Neither">
                    </div>
                    <div class="input-group">
                        <label>C: Explanation</label>
                        <textarea id="q9c_exp" style="min-height: 50px;"></textarea>
                    </div>
                    <div class="input-group">
                        <label>D: Type</label>
                        <input type="text" id="q9d" placeholder="Linear, Exponential, or Neither">
                    </div>
                    <div class="input-group">
                        <label>D: Explanation</label>
                        <textarea id="q9d_exp" style="min-height: 50px;"></textarea>
                    </div>
                    <div class="input-group">
                        <label>E: Type</label>
                        <input type="text" id="q9e" placeholder="Linear, Exponential, or Neither">
                    </div>
                    <div class="input-group">
                        <label>E: Explanation</label>
                        <textarea id="q9e_exp" style="min-height: 50px;"></textarea>
                    </div>
                    <div class="input-group">
                        <label>F: Type</label>
                        <input type="text" id="q9f" placeholder="Linear, Exponential, or Neither">
                    </div>
                    <div class="input-group">
                        <label>F: Explanation</label>
                        <textarea id="q9f_exp" style="min-height: 50px;"></textarea>
                    </div>
                </div>
                <div class="answer-feedback" id="feedback9"></div>
            </div>

            <!-- Q10: Standard 3.c - Graphing functions -->
            <div class="question-card">
                <div class="question-number">Question 10 - Standard 3.c</div>
                <div style="margin-bottom: 20px;">
                    <p style="margin-bottom: 15px;"><strong>Graphs of Functions</strong></p>
                    <p style="margin-bottom: 15px;">We can graph functions by assigning input values to <span class="math-notation">x</span> and output values to <span class="math-notation">y</span> so that <span class="math-notation">y = f(x)</span>. By picking values for <span class="math-notation">x</span> and using the definition of the function, calculate values of <span class="math-notation">y</span> and plot points to reveal the shape of the graph. Once you have enough points to see what's happening, draw a handsome curve. <strong>Remember to label the scale on your axes</strong>.</p>
                    <p style="margin-bottom: 15px;">Given <span class="math-notation">f(x) = -x² + 4x + 5</span>, make a table of values, plot points, and draw a graph of <span class="math-notation">y = f(x)</span>.</p>
                </div>
                <div style="display: flex; gap: 30px; align-items: center; margin-bottom: 20px;">
                    <div style="flex: 0 0 auto;">
                        <table style="display: inline-block;">
                            <tr>
                                <th>x</th>
                                <th>f(x)</th>
                            </tr>
                            <tr>
                                <td>-2</td>
                                <td><input type="number" id="q9_table1" style="width: 80px; padding: 5px;"></td>
                            </tr>
                            <tr>
                                <td>-1</td>
                                <td><input type="number" id="q9_table2" style="width: 80px; padding: 5px;"></td>
                            </tr>
                            <tr>
                                <td>0</td>
                                <td><input type="number" id="q9_table3" style="width: 80px; padding: 5px;"></td>
                            </tr>
                            <tr>
                                <td>1</td>
                                <td><input type="number" id="q9_table4" style="width: 80px; padding: 5px;"></td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td><input type="number" id="q9_table5" style="width: 80px; padding: 5px;"></td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td><input type="number" id="q9_table6" style="width: 80px; padding: 5px;"></td>
                            </tr>
                            <tr>
                                <td>4</td>
                                <td><input type="number" id="q9_table7" style="width: 80px; padding: 5px;"></td>
                            </tr>
                        </table>
                    </div>
                    <div style="flex: 1; background: #f0f4ff; padding: 15px; border-radius: 8px; border: 2px solid #C8102E;">
                        <p style="font-weight: bold; margin-bottom: 10px; color: #C8102E;">How to Use the Graph:</p>
                        <ul style="list-style: none; padding: 0; margin: 0; line-height: 1.8; font-size: 0.9em;">
                            <li style="margin-bottom: 8px;">• <strong>Click</strong> on the canvas to plot points (red dots will appear)</li>
                            <li style="margin-bottom: 8px;">• Points are automatically connected with lines as you plot them</li>
                            <li style="margin-bottom: 8px;">• <strong>Right-click</strong> anywhere on the canvas to clear all points and start over</li>
                            <li style="margin-bottom: 8px;">• The grid shows scale numbers from -11 to 11 on both axes</li>
                            <li style="margin-bottom: 8px;">• Points and lines appear in red for visibility</li>
                        </ul>
                    </div>
                </div>
                <div style="text-align: center;">
                    <div style="display: inline-block; border: 2px solid #333; background: white; padding: 15px;">
                        <canvas id="chart9" width="700" height="700" style="display: block; cursor: crosshair;"></canvas>
                    </div>
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea placeholder="Show your calculations for the table values..."></textarea>
                </div>
                <div class="answer-feedback" id="feedback10"></div>
            </div>

            <!-- Q11: Standard 3.e - Real-life applications -->
            <div class="question-card">
                <div class="question-number">Question 11 - Standard 3.e</div>
                <div class="question-text">
                    A water tank contains 500 gallons and is draining at 15 gallons per minute.
                    <br><br>
                    a) Write an equation for the amount of water <span class="math-notation">W</span> after <span class="math-notation">t</span> minutes.
                    <br>b) How much water is left after 12 minutes?
                    <br>c) When will the tank be empty?
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea id="work12" placeholder="Show your equation and calculations..."></textarea>
                </div>
                <div class="input-group">
                    <label>a) Equation:</label>
                    <input type="text" id="q12a">
                </div>
                <div class="input-group">
                    <label>b) Water after 12 minutes:</label>
                    <input type="text" id="q12b">
                </div>
                <div class="input-group">
                    <label>c) Time to empty (minutes):</label>
                    <input type="text" id="q12c">
                </div>
                <div class="answer-feedback" id="feedback11"></div>
            </div>

            <!-- Q12: Standard 3.f - Drawing conclusions from graphs -->
            <div class="question-card">
                <div class="question-number">Question 12 - Standard 3.f</div>
                <div class="question-text">
                    A car's value over time is shown on the graph below.
                </div>
                <div class="chart-container">
                    <canvas id="chart13"></canvas>
                </div>
                <div class="input-group">
                    <label>a) What was the car's initial value?</label>
                    <input type="text" id="q13a">
                </div>
                <div class="input-group">
                    <label>b) By how much does the value decrease each year?</label>
                    <input type="text" id="q13b">
                </div>
                <div class="input-group">
                    <label>c) What will the value be in year 5?</label>
                    <input type="text" id="q13c">
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea id="work13" placeholder="Show how you analyzed the graph..."></textarea>
                </div>
                <div class="answer-feedback" id="feedback12"></div>
            </div>

            <!-- Q13: Standard 3.g - Inverse functions -->
            <div class="question-card">
                <div class="question-number">Question 13 - Standard 3.g</div>
                <div class="question-text">
                    If <span class="math-notation">g(x) = (3x + 7)/(2x - 5)</span>, what is <span class="math-notation">g<sup>-1</sup>(2)</span>?
                    <br><br>
                    Then find the inverse function <span class="math-notation">g<sup>-1</sup>(x)</span> for any value of x.
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea id="work14" placeholder="Show your steps to find the inverse function and evaluate it..."></textarea>
                </div>
                <div class="final-answer-box">
                    <label class="final-answer-label">Final Answers:</label>
                    <div class="input-group">
                        <label>g<sup>-1</sup>(2) =</label>
                        <input type="text" id="q14a" style="width: 120px;">
                    </div>
                    <div class="input-group">
                        <label>g<sup>-1</sup>(x) =</label>
                        <input type="text" id="q14b" style="width: 200px;">
                    </div>
                </div>
                <div class="answer-feedback" id="feedback13"></div>
            </div>

            <!-- Q14: Standard 3.a - Function composition -->
            <div class="question-card">
                <div class="question-number">Question 14 - Standard 3.a</div>
                <table style="display: inline-block; float: right; margin-left: 30px; margin-bottom: 20px;">
                    <tr>
                        <th style="background: #C8102E; color: white;">x</th>
                        <th style="background: #C8102E; color: white;">h(x)</th>
                    </tr>
                    <tr>
                        <td>-3</td>
                        <td>8</td>
                    </tr>
                    <tr>
                        <td>-1</td>
                        <td>6</td>
                    </tr>
                    <tr>
                        <td>0</td>
                        <td>3</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>1</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>-2</td>
                    </tr>
                </table>
                <div class="question-text">
                    Let the functions <span class="math-notation">f</span>, <span class="math-notation">g</span>, and <span class="math-notation">h</span> be defined as follows:
                    <br><br>
                    <span class="math-notation">f(x) = 2x + 3</span>
                    <br><br>
                    Values of <span class="math-notation">h(x)</span> are shown in the table to the right.
                    <br><br>
                    The graph of <span class="math-notation">g(x)</span> is shown below.
                </div>
                <div style="clear: both;"></div>
                <div class="chart-container">
                    <canvas id="chart15"></canvas>
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea id="work15" placeholder="Show your calculations for each composition..."></textarea>
                </div>
                <div class="final-answer-box">
                    <label class="final-answer-label">Final Answers:</label>
                    <div class="input-group">
                        <label><span class="math-notation">f(4) - h(2)</span> =</label>
                        <input type="text" id="q15a" style="width: 100px;">
                    </div>
                    <div class="input-group">
                        <label><span class="math-notation">g(-3) · h(-1)</span> =</label>
                        <input type="text" id="q15b" style="width: 100px;">
                    </div>
                    <div class="input-group">
                        <label><span class="math-notation">f(h(3))</span> =</label>
                        <input type="text" id="q15c" style="width: 100px;">
                    </div>
                    <div class="input-group">
                        <label><span class="math-notation">g(f(2))</span> =</label>
                        <input type="text" id="q15d" style="width: 100px;">
                    </div>
                    <div class="input-group">
                        <label><span class="math-notation">g(h<sup>-1</sup>(3))</span> =</label>
                        <input type="text" id="q15e" style="width: 100px;">
                    </div>
                </div>
                <div class="answer-feedback" id="feedback14"></div>
            </div>

            <!-- Q15: Standard 4.d - Scatterplots and best fit lines -->
            <div class="question-card">
                <div class="question-number">Question 15 - Standard 4.d</div>
                <div class="question-text">
                    A teacher tracks the number of hours students study each week and their quiz scores. The scatterplot shows the data with a line of best fit drawn.
                    <br><br>
                    <strong>a)</strong> What is the approximate slope of the line of best fit? Show how you calculated it using two points on the line.
                    <br><br>
                    <strong>b)</strong> Write the equation of the line of best fit in point-slope form using the point (4, 75).
                    <br><br>
                    <strong>c)</strong> Convert your equation to slope-intercept form.
                    <br><br>
                    <strong>d)</strong> Using your equation, predict the quiz score for a student who studies 11 hours per week.
                </div>
                <div class="chart-container">
                    <canvas id="chart19"></canvas>
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea placeholder="Show calculations for slope, equation, and predictions..."></textarea>
                </div>
                <div class="final-answer-box">
                    <label class="final-answer-label">Final Answers:</label>
                    <div class="input-group">
                        <label>a) Slope:</label>
                        <input type="text" id="q15a">
                    </div>
                    <div class="input-group">
                        <label>b) Point-slope form:</label>
                        <input type="text" id="q15b">
                    </div>
                    <div class="input-group">
                        <label>c) Slope-intercept form:</label>
                        <input type="text" id="q15c">
                    </div>
                    <div class="input-group">
                        <label>d) Predicted score for 11 hours:</label>
                        <input type="text" id="q15d">
                    </div>
                </div>
                <div class="answer-feedback" id="feedback15"></div>
            </div>

            <!-- Q16: Standard 5.a - Exponential models -->
            <div class="question-card">
                <div class="question-number">Question 16 - Standard 5.a</div>
                <div class="question-text">
                    A botanist is studying a rare species of plant that multiplies at a constant percentage rate each week. She records the number of plants in a controlled greenhouse over several weeks and creates the table below.
                    <br><br>
                    <table style="margin: 20px auto; border-collapse: collapse; width: 80%; max-width: 500px;">
                        <tr>
                            <th style="background: #C8102E; color: white; padding: 10px; border: 2px solid #C8102E;">Week <span class="math-notation">t</span></th>
                            <th style="background: #C8102E; color: white; padding: 10px; border: 2px solid #C8102E;">Number of Plants <span class="math-notation">P(t)</span></th>
                        </tr>
                        <tr>
                            <td style="padding: 10px; border: 2px solid #C8102E; text-align: center;">0</td>
                            <td style="padding: 10px; border: 2px solid #C8102E; text-align: center;">12</td>
                        </tr>
                        <tr>
                            <td style="padding: 10px; border: 2px solid #C8102E; text-align: center;">1</td>
                            <td style="padding: 10px; border: 2px solid #C8102E; text-align: center;">18</td>
                        </tr>
                        <tr>
                            <td style="padding: 10px; border: 2px solid #C8102E; text-align: center;">2</td>
                            <td style="padding: 10px; border: 2px solid #C8102E; text-align: center;">27</td>
                        </tr>
                        <tr>
                            <td style="padding: 10px; border: 2px solid #C8102E; text-align: center;">3</td>
                            <td style="padding: 10px; border: 2px solid #C8102E; text-align: center;">40.5</td>
                        </tr>
                    </table>
                    <br>
                    <strong>a)</strong> Determine the exponential model <span class="math-notation">P(t) = a · b<sup>t</sup></span> that fits the table.
                    <br><br>
                    <strong>b)</strong> Using your model, predict the number of plants after 6 weeks.
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea id="work16" placeholder="Find a and b from the table, then calculate P(6)..."></textarea>
                </div>
                <div class="input-group">
                    <label>a) Model P(t) =</label>
                    <input type="text" id="q16a">
                </div>
                <div class="input-group">
                    <label>b) Plants after 6 weeks:</label>
                    <input type="text" id="q16b">
                </div>
                <div class="answer-feedback" id="feedback16"></div>
            </div>

            <!-- Q17: Standard 5.b & 5.c - Exponential growth/decay -->
            <div class="question-card">
                <div class="question-number">Question 17 - Standard 5.b & 5.c</div>
                <div class="question-text">
                    A coastal vacation property is losing value each year due to erosion risk and rising insurance costs. The property is currently worth $620,000. Its value decreases by 3.8% each year.
                    <br><br>
                    <strong>a)</strong> Write an exponential model <span class="math-notation">V(t) = a(1 + r)<sup>t</sup></span> for the property's value after <span class="math-notation">t</span> years.
                    <br><br>
                    <strong>b)</strong> Using your model, find the value of the property after 12 years. (Round to the nearest dollar.)
                    <br><br>
                    <strong>c)</strong> After how many years will the property's value drop below $300,000? (Show the equation you would set up. Round your answer up to the nearest whole number of years.)
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea id="work17" placeholder="Show your model and calculations..."></textarea>
                </div>
                <div class="input-group">
                    <label>a) Model V(t) =</label>
                    <input type="text" id="q17a">
                </div>
                <div class="input-group">
                    <label>b) Value after 12 years:</label>
                    <input type="text" id="q17b">
                </div>
                <div class="input-group">
                    <label>c) Equation and answer:</label>
                    <textarea id="q17c" style="min-height: 80px;"></textarea>
                </div>
                <div class="answer-feedback" id="feedback17"></div>
            </div>

            <!-- Q18: Collinear points -->
            <div class="question-card">
                <div class="question-number">Question 18 - Standard 4.c</div>
                <div class="question-text">
                    You are given the three points <span class="math-notation">A(2, 1)</span>, <span class="math-notation">B(6, 7)</span>, <span class="math-notation">C(10, 13)</span>.
                    <br><br>
                    Are these three points on the same line?
                    <br>If they are, write the equation of the line in slope-intercept form.
                    <br>If they are not, explain how you know.
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea id="work18" placeholder="Calculate slopes between pairs of points..."></textarea>
                </div>
                <div class="input-group">
                    <label>Answer:</label>
                    <textarea id="q18" style="min-height: 80px;"></textarea>
                </div>
                <div class="answer-feedback" id="feedback18"></div>
            </div>

            <button type="button" class="print-btn" onclick="printTest()">Print Test</button>
            <button type="button" class="submit-btn" onclick="gradeFinalExam()">Submit Test</button>
            <button type="button" class="answer-key-btn" onclick="showFinalExamAnswerKey()">View Answer Key</button>
            <button type="button" class="answer-key-btn" onclick="saveResults('finalExam251123_results')" style="background: #1D42BA;">Save Results</button>
            <button type="button" class="answer-key-btn" onclick="loadResults('finalExam251123_results')" style="background: #002D62;">Load Saved Results</button>
        </form>
        <div class="result" id="finalResult"></div>
    </div>

    <!-- Answer Key Modal -->
    <div id="answerKeyModal" class="answer-key-modal">
        <div class="answer-key-content">
            <button class="close-modal" onclick="closeAnswerKey()">×</button>
            <h2 class="answer-key-title">Answer Key</h2>
            <div id="answerKeyBody"></div>
        </div>
    </div>

    <script src="shared/scripts.js"></script>
    <script>
        // Initialize custom textarea resize handles
        document.addEventListener('DOMContentLoaded', function() {
            initTextareaResize();
        });
        
        // Chart 9 - Interactive plotting grid
        (function() {
            const canvas = document.getElementById('chart9');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;
            const points = [];
            const marginLeft = 40;
            const marginRight = 20;
            const marginTop = 20;
            const marginBottom = 35;
            const plotWidth = width - marginLeft - marginRight;
            const plotHeight = height - marginTop - marginBottom;
            
            function drawGrid() {
                ctx.clearRect(0, 0, width, height);
                
                // Draw grid (22x22 for x: -11 to 11, y: -11 to 11)
                ctx.strokeStyle = '#ddd';
                ctx.lineWidth = 1;
                
                // Vertical lines (x-axis: -11 to 11, 22 divisions)
                for (let i = 0; i <= 22; i++) {
                    const x = marginLeft + (i * plotWidth) / 22;
                    ctx.beginPath();
                    ctx.moveTo(x, marginTop);
                    ctx.lineTo(x, marginTop + plotHeight);
                    ctx.stroke();
                }
                
                // Horizontal lines (y-axis: -11 to 11, 22 divisions)
                for (let i = 0; i <= 22; i++) {
                    const y = marginTop + (i * plotHeight) / 22;
                    ctx.beginPath();
                    ctx.moveTo(marginLeft, y);
                    ctx.lineTo(marginLeft + plotWidth, y);
                    ctx.stroke();
                }
                
                // Draw axes (darker)
                ctx.strokeStyle = '#000';
                ctx.lineWidth = 2;
                
                // X-axis (at y=0, which is middle of plot)
                const xAxisY = marginTop + plotHeight / 2;
                ctx.beginPath();
                ctx.moveTo(marginLeft, xAxisY);
                ctx.lineTo(marginLeft + plotWidth, xAxisY);
                ctx.stroke();
                
                // Y-axis (at x=0, which is middle of plot)
                const yAxisX = marginLeft + plotWidth / 2;
                ctx.beginPath();
                ctx.moveTo(yAxisX, marginTop);
                ctx.lineTo(yAxisX, marginTop + plotHeight);
                ctx.stroke();
                
                // Label axes
                ctx.fillStyle = '#000';
                ctx.font = '16px Arial';
                ctx.fillText('x', width - 25, xAxisY - 10);
                ctx.fillText('y', yAxisX + 10, marginTop + 5);
                ctx.fillText('0', yAxisX + 5, xAxisY + 18);
                
                // Draw scale numbers
                ctx.font = '12px Arial';
                ctx.textAlign = 'center';
                
                // X-axis numbers (-11 to 11)
                for (let i = -11; i <= 11; i++) {
                    if (i !== 0) {
                        const x = marginLeft + plotWidth / 2 + (i * plotWidth / 22);
                        ctx.fillText(i, x, xAxisY + 25);
                    }
                }
                
                // Y-axis numbers (-11 to 11)
                ctx.textAlign = 'right';
                for (let i = -11; i <= 11; i++) {
                    if (i !== 0) {
                        const y = marginTop + plotHeight / 2 - (i * plotHeight / 22);
                        ctx.fillText(i, yAxisX - 8, y + 4);
                    }
                }
                
                ctx.textAlign = 'left';
            }
            
            function drawPoints() {
                ctx.fillStyle = '#e74c3c';
                points.forEach(point => {
                    ctx.beginPath();
                    ctx.arc(point.x, point.y, 4, 0, 2 * Math.PI);
                    ctx.fill();
                });
            }
            
            function drawLines() {
                if (points.length > 1) {
                    ctx.strokeStyle = '#e74c3c';
                    ctx.lineWidth = 2;
                    ctx.beginPath();
                    ctx.moveTo(points[0].x, points[0].y);
                    for (let i = 1; i < points.length; i++) {
                        ctx.lineTo(points[i].x, points[i].y);
                    }
                    ctx.stroke();
                }
            }
            
            function redraw() {
                drawGrid();
                drawLines();
                drawPoints();
            }
            
            canvas.addEventListener('click', function(e) {
                const rect = canvas.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                
                points.push({x, y});
                redraw();
            });
            
            canvas.addEventListener('contextmenu', function(e) {
                e.preventDefault();
                points.length = 0;
                redraw();
            });
            
            drawGrid();
        })();
        
        // Initialize Chart.js charts when DOM is ready
        window.addEventListener('load', function() {
            // Chart 13 - Car depreciation
            new Chart(document.getElementById('chart13'), {
                type: 'line',
                data: {
                    labels: [0, 1, 2, 3, 4],
                    datasets: [{
                        label: 'Car Value ($1000s)',
                        data: [20, 15, 10, 5, 0],
                        borderColor: '#C8102E',
                        backgroundColor: '#C8102E',
                        borderWidth: 3,
                        pointRadius: 5,
                        pointBackgroundColor: '#C8102E',
                        pointBorderColor: '#C8102E',
                        pointBorderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: { 
                            display: true, 
                            text: 'Car Value Over Time',
                            font: { size: 18 },
                            color: '#666'
                        },
                        legend: { 
                            display: true,
                            labels: {
                                usePointStyle: false,
                                boxWidth: 40,
                                boxHeight: 3
                            }
                        }
                    },
                    scales: {
                        x: { 
                            title: { display: true, text: 'Year', font: { size: 16 } },
                            ticks: { font: { size: 14 } }
                        },
                        y: {
                            title: { display: true, text: 'Value ($1000s)', font: { size: 16 } },
                            ticks: { font: { size: 14 } },
                            beginAtZero: true
                        }
                    }
                }
            });
            
            // Chart 15 - g(x) function graph for Q13
            new Chart(document.getElementById('chart15'), {
                type: 'line',
                data: {
                    labels: [-5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5],
                    datasets: [{
                        label: 'g(x)',
                        data: [-2, -3, -3, -1, 1, 2, 4, 3, 1, -2, -1],
                        borderColor: '#e74c3c',
                        backgroundColor: '#e74c3c',
                        borderWidth: 3,
                        pointRadius: 5,
                        pointBackgroundColor: '#e74c3c',
                        pointBorderColor: '#e74c3c',
                        pointBorderWidth: 1,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: { 
                            display: false
                        },
                        legend: { 
                            display: true,
                            labels: {
                                usePointStyle: false,
                                boxWidth: 40,
                                boxHeight: 3
                            }
                        }
                    },
                    scales: {
                        x: { 
                            title: { display: true, text: 'x', font: { size: 16 } },
                            ticks: { font: { size: 14 } },
                            min: -5,
                            max: 5
                        },
                        y: {
                            title: { display: true, text: 'y', font: { size: 16 } },
                            ticks: { font: { size: 14 } },
                            min: -4,
                            max: 5
                        }
                    }
                }
            });
            
            // Chart 19 - Study time vs quiz score scatterplot
            new Chart(document.getElementById('chart19'), {
                type: 'scatter',
                data: {
                    datasets: [{
                        label: 'Quiz Scores',
                        data: [
                            {x: 2, y: 65}, {x: 3, y: 68}, {x: 3.5, y: 72},
                            {x: 4, y: 75}, {x: 5, y: 78}, {x: 5.5, y: 82},
                            {x: 6, y: 85}, {x: 7, y: 88}, {x: 7.5, y: 90},
                            {x: 8, y: 92}, {x: 8.5, y: 95}, {x: 9, y: 94}
                        ],
                        borderColor: '#333',
                        backgroundColor: '#333',
                        pointRadius: 5,
                        pointHoverRadius: 7
                    },
                    {
                        label: 'Line of Best Fit',
                        type: 'line',
                        data: [
                            {x: 2, y: 65}, {x: 10, y: 105}
                        ],
                        borderColor: '#C8102E',
                        backgroundColor: 'transparent',
                        borderWidth: 2,
                        pointRadius: 0,
                        tension: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: { 
                            display: true, 
                            text: 'Study Time vs Quiz Score',
                            font: { size: 16, weight: 'bold' } 
                        },
                        legend: { display: false }
                    },
                    scales: {
                        x: { 
                            title: {
                                display: true,
                                text: 'Study Time (hours/week)'
                            },
                            min: 0,
                            max: 12,
                            grid: { display: true }
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'Quiz Score'
                            },
                            min: 50,
                            max: 110,
                            grid: { display: true }
                        }
                    }
                }
            });
        });

        function showFinalExamAnswerKey() {
            const answerKeyHTML = `
                <div class="answer-item"><strong>Q1:</strong> 210 (Work: 3pq - q²(4p - 2q) + p²q with p=-4, q=3: 3(-4)(3) - (9)(-16-6) + (16)(3) = -36 - 9(-22) + 48 = -36 + 198 + 48 = 210)</div>
                <div class="answer-item"><strong>Q2:</strong> 5.4 meters (Work: h = 1 + 12(2) - 4.9(2)² = 1 + 24 - 4.9(4) = 1 + 24 - 19.6 = 5.4)</div>
                <div class="answer-item"><strong>Q3:</strong> a) s = (Pr + b)/k (Work: P = (ks - b)/r, multiply both sides by r: Pr = ks - b, add b: Pr + b = ks, divide by k: s = (Pr + b)/k), b) s = 58 successful projects (Work: s = (92×2 + 18)/3.5 = (184 + 18)/3.5 = 202/3.5 ≈ 57.71 ≈ 58)</div>
                <div class="answer-item"><strong>Q4:</strong> a) C(h) = 0.9095(14.50 + 3.90h) [15% discount × 7% tax = 0.85 × 1.07 = 0.9095], b) ≈10.2 hours (Work: 49.39 = 0.9095(14.50 + 3.90h) → 54.29 = 14.50 + 3.90h → h ≈ 10.2), c) ≈$58.08 (Work: Without discount: (14.50 + 3.90×10.2)(1.07) ≈ 54.28 × 1.07 ≈ 58.08)</div>
                <div class="answer-item"><strong>Q5:</strong> x = -9 (Work: 7x - 4 = 2(3x - 5) - (x + 12), expand: 7x - 4 = 6x - 10 - x - 12 = 5x - 22, so 2x = -18, x = -9. Verify: 7(-9)-4 = -67, 2(-32)-3 = -67 ✓)</div>
                <div class="answer-item"><strong>Q6:</strong> k = (3a²b + b - 7)/(4 - 6a) (Work: 7 + 4k - b = 3a(2k + ab), expand: 7 + 4k - b = 6ak + 3a²b, collect k terms: 4k - 6ak = 3a²b + b - 7, factor: k(4 - 6a) = 3a²b + b - 7, divide: k = (3a²b + b - 7)/(4 - 6a))</div>
                <div class="answer-item"><strong>Q7:</strong> x < 6/5 (or x < 1.2) (Work: -3/4·x + 5/2 > 1/3(9x - 6), expand: -3/4·x + 5/2 > 3x - 2, multiply by 12: -9x + 30 > 36x - 24, -45x > -54, x < 54/45 = 6/5 = 1.2); Graph: Open circle at 6/5, arrow pointing left</div>
                <div class="answer-item"><strong>Q8:</strong> -53 (Work: g(-3) = (-3)² - 4(-3) - 1 = 9 + 12 - 1 = 20, then f(20) = -3(20) + 7 = -60 + 7 = -53)</div>
                <div class="answer-item"><strong>Q9:</strong> 
                    <strong>A: Linear</strong> - Common difference of -8 (42-50=-8, 34-42=-8, 26-34=-8, etc.); Linear decrease<br>
                    <strong>B: Exponential</strong> - Common ratio of ×3 (6/2=3, 18/6=3, 54/18=3, etc.); Exponential growth<br>
                    <strong>C: Neither</strong> - Differences increase (3, 5, 7, 9) and ratios vary (5/2=2.5, 10/5=2, 17/10=1.7, etc.); Not constant difference or ratio<br>
                    <strong>D: Linear</strong> - Common difference of +7 (-5-(-12)=7, 2-(-5)=7, 9-2=7, etc.)<br>
                    <strong>E: Neither</strong> - Perfect squares (1², 2², 3², 4², 5²); differences increase (3, 5, 7, 9), not constant<br>
                    <strong>F: Exponential</strong> - Common ratio of ×(2/3) (486/729=2/3, 324/486=2/3, 216/324=2/3, etc.); Exponential decay</div>
                <div class="answer-item"><strong>Q10:</strong> Table values: x=-2→-7, x=-1→0, x=0→5, x=1→8, x=2→9, x=3→8, x=4→5; Graph should show parabola opening downward with vertex at (2, 9)</div>
                <div class="answer-item"><strong>Q11:</strong> a) W = 500 - 15t, b) 320 gallons, c) 33.33 minutes (or 33⅓)</div>
                <div class="answer-item"><strong>Q12:</strong> a) $20,000, b) $5,000 per year, c) $0</div>
                <div class="answer-item"><strong>Q13:</strong> g⁻¹(2) = 17/1 = 17; g⁻¹(x) = (5x + 7)/(2x - 3) or equivalent (Work: Let y = (3x+7)/(2x-5), solve for x: y(2x-5) = 3x+7, 2xy-5y = 3x+7, 2xy-3x = 5y+7, x(2y-3) = 5y+7, x = (5y+7)/(2y-3), so g⁻¹(x) = (5x+7)/(2x-3); then g⁻¹(2) = (10+7)/(4-3) = 17/1 = 17)</div>
                <div class="answer-item"><strong>Q14:</strong> a) f(4) - h(2) = 11 - 1 = 10; b) g(-3) · h(-1) = (-3)(6) = -18; c) f(h(3)) = f(-2) = 2(-2) + 3 = -1; d) g(f(2)) = g(7) = 2; e) g(h⁻¹(3)) = g(0) = 2</div>
                <div class="answer-item"><strong>Q15:</strong> Study Time Scatterplot
                    <br><br>
                    <strong>a) Slope = 5</strong>
                    <br><br>
                    <em>Work:</em> Using points (2, 65) and (10, 105) from the line:
                    <br>Slope = (105 - 65)/(10 - 2) = 40/8 = 5
                    <br><br>
                    <strong>b) Point-slope form: y - 75 = 5(x - 4)</strong>
                    <br><br>
                    <em>Explanation:</em> Using point (4, 75) and slope m = 5
                    <br><br>
                    <strong>c) Slope-intercept form: y = 5x + 55</strong>
                    <br><br>
                    <em>Work:</em> y - 75 = 5(x - 4)
                    <br>y - 75 = 5x - 20
                    <br>y = 5x + 55
                    <br><br>
                    <strong>d) Predicted score for 11 hours: 110</strong>
                    <br><br>
                    <em>Work:</em> y = 5(11) + 55 = 55 + 55 = 110
                </div>
                <div class="answer-item"><strong>Q16:</strong> a) P(t) = 12(1.5)^t (Work: a = 12 from week 0. Ratio: 18/12 = 1.5, 27/18 = 1.5, so b = 1.5), b) ≈136.7 plants (Work: P(6) = 12(1.5)^6 = 12 × 11.390625 ≈ 136.7)</div>
                <div class="answer-item"><strong>Q17:</strong> a) V(t) = 620000(0.962)^t or 620000(1 - 0.038)^t (Work: 3.8% decrease, multiplier = 0.962), b) ≈$389,487 (Work: V(12) = 620000(0.962)^12 ≈ 389,487), c) 19 years (Work: 620000(0.962)^t = 300000, t = ln(300000/620000)/ln(0.962) ≈ 18.8, round up to 19 years)</div>
                <div class="answer-item"><strong>Q18:</strong> Yes, the three points are on the same line. Equation: y = 1.5x - 2
                    <br><br>
                    <em>Work:</em> Slope from A to B: m = (7-1)/(6-2) = 6/4 = 1.5
                    <br>Slope from B to C: m = (13-7)/(10-6) = 6/4 = 1.5
                    <br>Since both slopes are equal, the points are collinear.
                    <br>Using point-slope form with A(2,1): y - 1 = 1.5(x - 2)
                    <br>y - 1 = 1.5x - 3
                    <br>y = 1.5x - 2
                </div>
            `;
            showAnswerKey(answerKeyHTML);
        }

        function gradeFinalExam() {
            // Grade Q15 separately (input IDs duplicate Q14)
            var q15Card = document.getElementById('feedback15').parentElement;
            var q15Inputs = q15Card.querySelectorAll('.final-answer-box input[type="text"]');
            var q15Score = 0;
            var q15Parts = [
                { answer: 5, tol: 0.5, ok: '\u2713 Slope=5', no: '\u2717 Rise/run: (95\u221275)/(8\u22124)=5' },
                { answer: 'y-75=5(x-4)', ok: '\u2713 y\u221275=5(x\u22124)', no: '\u2717 Point-slope with (4,75) and m=5' },
                { answer: 'y=5x+55', ok: '\u2713 y=5x+55', no: '\u2717 Distribute: y=5x\u221220+75=5x+55' },
                { answer: 110, tol: 1, ok: '\u2713 Score=110', no: '\u2717 5(11)+55=110' }
            ];
            var q15Txt = '';
            q15Inputs.forEach(function(el, i) {
                if (i >= q15Parts.length) return;
                var p = q15Parts[i];
                var val = el.value || '';
                var ok = typeof p.answer === 'number'
                    ? Math.abs(parseFloat(val) - p.answer) <= (p.tol || 0.5)
                    : norm(val) === norm(p.answer);
                if (ok) { q15Score++; q15Txt += p.ok + '\n'; }
                else { q15Txt += p.no + '\n'; }
            });
            var fb15 = document.getElementById('feedback15');
            fb15.className = 'answer-feedback show ' + (q15Score === q15Parts.length ? 'correct' : 'incorrect');
            fb15.textContent = q15Txt;

            // Grade Q1-Q14, Q16-Q18 via shared gradeTest
            var r = gradeTest({
                resultId: '_skip',
                questions: [
                    // Q1: evaluate expression = 210
                    [[['q1', 210, 1]], 'feedback1'],
                    // Q2: baseball height = 5.4
                    [[['q2', 5.4, 0.1]], 'feedback2'],
                    // Q3: literal equation
                    [[['q3a', 's=(Pr+b)/k'], ['q3b', 57.71, 1]], 'feedback3'],
                    // Q4: kayak cost model
                    [[['q4a', 'c(h)=0.9095(14.50+3.90h)'], ['q4b', 10.2, 0.5], ['q4c', 58.08, 1]], 'feedback4'],
                    // Q5: solve for x = -9
                    [[['q5', -9, 0.5]], 'feedback5'],
                    // Q6: literal equation for k
                    [[['q6', '(3a^2b+b-7)/(4-6a)']], 'feedback6'],
                    // Q7: inequality x < 6/5
                    [[['q7', 'x<6/5']], 'feedback7'],
                    // Q8: f(g(-3)) = -53
                    [[['q8', -53, 0.5]], 'feedback8'],
                    // Q9: sequence types (skip explanations)
                    [[['q9a', 'linear'], ['q9b', 'exponential'], ['q9c', 'neither'], ['q9d', 'linear'], ['q9e', 'neither'], ['q9f', 'exponential']], 'feedback9'],
                    // Q10: table values for f(x) = -x^2+4x+5
                    [[['q9_table1', -7, 0.5], ['q9_table2', 0, 0.5], ['q9_table3', 5, 0.5], ['q9_table4', 8, 0.5], ['q9_table5', 9, 0.5], ['q9_table6', 8, 0.5], ['q9_table7', 5, 0.5]], 'feedback10'],
                    // Q11: water tank (input ids q12a-c)
                    [[['q12a', 'w=500-15t'], ['q12b', 320, 5], ['q12c', 33.33, 1]], 'feedback11'],
                    // Q12: car value graph (input ids q13a-c)
                    [[['q13a', 20000, 500], ['q13b', 5000, 500], ['q13c', 0, 500]], 'feedback12'],
                    // Q13: inverse function (input ids q14a-b)
                    [[['q14a', 17, 0.5], ['q14b', '(5x+7)/(2x-3)']], 'feedback13'],
                    // Q14: function composition (input ids q15a-e)
                    [[['q15a', 10, 0.5], ['q15b', -18, 0.5], ['q15c', -1, 0.5], ['q15d', 2, 0.5], ['q15e', 2, 0.5]], 'feedback14'],
                    // Q16: exponential model
                    [[['q16a', '12(1.5)^t'], ['q16b', 136.7, 2]], 'feedback16'],
                    // Q17: exponential decay
                    [[['q17a', '620000(0.962)^t'], ['q17b', 389487, 5000], ['q17c', 19, 1]], 'feedback17'],
                    // Q18: collinear points
                    [[['q18', 'y=1.5x-2']], 'feedback18']
                ],
                standards: [
                    {id: '1.a', name: 'Evaluating expressions'},
                    {id: '1.c', name: 'Real-life models'},
                    {id: '2.b', name: 'Literal equations'},
                    {id: '1.d', name: 'Modeling situations'},
                    {id: '2.a', name: 'Multi-step equations'},
                    {id: '2.b', name: 'Literal equations'},
                    {id: '2.c', name: 'Linear inequalities'},
                    {id: '3.a', name: 'Function composition'},
                    {id: '3.b', name: 'Sequence analysis'},
                    {id: '3.c', name: 'Graphing functions'},
                    {id: '4.b', name: 'Write linear models'},
                    {id: '3.d', name: 'Graph analysis'},
                    {id: '3.i', name: 'Finding inverse functions'},
                    {id: '3.a', name: 'Function composition'},
                    {id: '5.a', name: 'Exponential models'},
                    {id: '5.c', name: 'Exponential decay'},
                    {id: '4.c', name: 'Equations from points'}
                ],
                feedbacks: [
                    ['\u2713 Correct! 210', '\u2717 Substitute p=\u22124, q=3 carefully'],
                    ['\u2713 Correct! 5.4 meters', '\u2717 h=1+12(2)\u22124.9(4)=5.4'],
                    ['\u2713 s=(Pr+b)/k', '\u2717 Multiply by r, add b, divide by k', '\u2713 \u224857.71 projects', '\u2717 s=(92\xb72+18)/3.5\u224857.71'],
                    ['\u2713 C(h)=0.9095(14.50+3.90h)', '\u2717 Apply 7% tax then 15% discount', '\u2713 \u224810.2 hours', '\u2717 Solve 0.9095(14.50+3.90h)=49.39', '\u2713 \u2248$58.08', '\u2717 Normal: 1.07(14.50+3.90\xb710.2)'],
                    ['\u2713 x=\u22129', '\u2717 Distribute, combine like terms: 2x=\u221218'],
                    ['\u2713 k=(3a\xb2b+b\u22127)/(4\u22126a)', '\u2717 Collect k terms, factor out k'],
                    ['\u2713 x<6/5', '\u2717 Clear fractions, combine x terms'],
                    ['\u2713 f(g(\u22123))=\u221253', '\u2717 g(\u22123)=20, then f(20)=\u221253'],
                    ['\u2713 A: Linear', '\u2717 Common difference=\u22128, linear', '\u2713 B: Exponential', '\u2717 Common ratio=3, exponential', '\u2713 C: Neither', '\u2717 Differences vary: 3,5,7,9', '\u2713 D: Linear', '\u2717 Common difference=7, linear', '\u2713 E: Neither', '\u2717 Perfect squares; differences vary', '\u2713 F: Exponential', '\u2717 Common ratio=2/3, exponential'],
                    ['\u2713 f(\u22122)=\u22127', '\u2717 \u2212(\u22122)\xb2+4(\u22122)+5=\u22127', '\u2713 f(\u22121)=0', '\u2717 \u22121\u22124+5=0', '\u2713 f(0)=5', '\u2717 0+0+5=5', '\u2713 f(1)=8', '\u2717 \u22121+4+5=8', '\u2713 f(2)=9', '\u2717 \u22124+8+5=9 (vertex)', '\u2713 f(3)=8', '\u2717 \u22129+12+5=8', '\u2713 f(4)=5', '\u2717 \u221216+16+5=5'],
                    ['\u2713 W=500\u221215t', '\u2717 Start 500, lose 15 per minute', '\u2713 320 gallons', '\u2717 500\u221215(12)=320', '\u2713 33.33 minutes', '\u2717 500/15\u224833.33'],
                    ['\u2713 $20,000', '\u2717 Read initial value from graph', '\u2713 $5,000/year', '\u2717 Calculate slope from graph points', '\u2713 $0', '\u2717 Value reaches 0 at year 4'],
                    ['\u2713 g\u207b\xb9(2)=17', '\u2717 Solve (3x+7)/(2x\u22125)=2', '\u2713 g\u207b\xb9(x)=(5x+7)/(2x\u22123)', '\u2717 Swap x,y and solve for y'],
                    ['\u2713 f(4)\u2212h(2)=10', '\u2717 f(4)=11, h(2)=1, so 11\u22121=10', '\u2713 g(\u22123)\xb7h(\u22121)=\u221218', '\u2717 Read g(\u22123) from graph, h(\u22121)=6', '\u2713 f(h(3))=\u22121', '\u2717 h(3)=\u22122, f(\u22122)=\u22121', '\u2713 g(f(2))=2', '\u2717 f(2)=7, read g(7) from graph', '\u2713 g(h\u207b\xb9(3))=2', '\u2717 h(0)=3, so h\u207b\xb9(3)=0, g(0)=2'],
                    ['\u2713 P(t)=12(1.5)^t', '\u2717 a=12 from week 0, ratio=18/12=1.5', '\u2713 \u2248136.7 plants', '\u2717 12(1.5)\u2076\u2248136.7'],
                    ['\u2713 V(t)=620000(0.962)^t', '\u2717 Decay rate: 1\u22120.038=0.962', '\u2713 \u2248$389,487', '\u2717 620000(0.962)\xb9\xb2\u2248389,487', '\u2713 19 years', '\u2717 t=ln(300000/620000)/ln(0.962)\u224819'],
                    ['\u2713 y=1.5x\u22122, collinear', '\u2717 Slopes equal: 6/4=1.5, so y=1.5x\u22122']
                ],
                storageKey: 'final_exam'
            });

            // Combine Q15 score with gradeTest results
            var score = r.score + q15Score;
            var total = r.total + q15Parts.length;
            var pct = Math.round((score / total) * 100);
            var msg;
            if (pct >= 90) msg = '\ud83d\udd25 ' + score + '/' + total + '. Locked in.';
            else if (pct >= 80) msg = score + '/' + total + '. Close. One more pass.';
            else if (pct >= 70) msg = score + '/' + total + '. Getting there. Keep pushing.';
            else msg = score + '/' + total + '. Needs work. Run it again.';
            var el = document.getElementById('finalResult');
            if (el) {
                el.className = 'result show ' + (pct >= 70 ? 'correct' : 'incorrect');
                el.innerHTML = '<div>Done. ' + total + '/' + total + ' answered.</div><div>' + msg + ' (' + pct + '%)</div>';
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
            // Update saved score to include Q15
            var scores = {};
            try { scores = JSON.parse(localStorage.getItem('mcm_scores') || '{}'); } catch(e) { scores = {}; }
            scores['final_exam'] = { score: score, total: total, pct: pct, timestamp: new Date().toISOString() };
            localStorage.setItem('mcm_scores', JSON.stringify(scores));
        }
    </script>
</body>
</html>

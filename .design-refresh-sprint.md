# ðŸ€ MCM Design Refresh â€” Autonomous Overnight Sprint

> Paste this into the GA agent window. GA is the sole builder.
> GF validates after GA finishes. FA spot-checks via inbox.
> Date: Feb 19, 2026 ~3am PST. Marcus is sleeping.

## ðŸ”´ CRASH RECOVERY

```powershell
# Launch GA with watchdog (auto-retries on crash)
.\forge-watch.ps1 -Session "g-app-agent" -Cwd "C:\Github\kai-algebra2-tests"

# Launch GF with watchdog (starts after GA finishes)
.\forge-watch.ps1 -Session "g-fundamentals-agent" -Cwd "C:\Github\kai-algebra2-tests"
```

---

## MISSION: Execute all 14 design refresh tasks tonight

Read the full spec: `docs/mcm-implementation-spec.md`

You are GA. You built exam.html. You did the 15-file simplification. You know this codebase. Now apply FD's 14-item design refresh across 5 files.

## YOUR QUEUE (execute in order)

### Phase 1 â€” CRITICAL BUGS (do these first, no skipping)

| # | Task | File(s) | Done When |
|---|------|---------|-----------|
| 1 | exam.html error state â†’ friendly test picker | exam.html | No ?file= param shows picker, not "Loading..." |
| 2 | Times New Roman leak â†’ font-family fix | shared/styles.css | No non-KaTeX element computes Times New Roman |

COMMIT after Phase 1. Message: `fix: exam error state + Times New Roman leak (Tasks 1-2)`

### Phase 2 â€” BUTTONS + DASHBOARD

| # | Task | File(s) | Done When |
|---|------|---------|-----------|
| 3 | Button hierarchy (primary/secondary/ghost) | shared/styles.css, index.html, exam.html | Every button uses one of 3 tiers, ONE red per screen |
| 4 | Dashboard progressive disclosure | index.html | One action above fold, sections collapsed via details/summary |

COMMIT after Phase 2. Message: `feat: button hierarchy + dashboard progressive disclosure (Tasks 3-4)`

### Phase 3 â€” ARENA + TYPE + HEADER + ARCHIVE

| # | Task | File(s) | Done When |
|---|------|---------|-----------|
| 5 | Arena Mode localStorage persistence | all 5 HTML files, shared/scripts.js | Toggle persists across navigation, no flash |
| 6 | Type scale tokens (6 sizes) | shared/styles.css | Every font-size is a var(--text-*) token |
| 7 | Consistent header on 2 active pages | index.html, exam.html | Identical header structure, back arrow on exam only |
| 8 | Archive mode for 3 legacy tests | shared/styles.css, 3 legacy HTML files | Banner shows, inputs locked, submit hidden |

COMMIT after Phase 3. Message: `feat: arena persistence, type scale, header, archive mode (Tasks 5-8)`

### Phase 4 â€” POLISH

| # | Task | File(s) | Done When |
|---|------|---------|-----------|
| 9 | Blue borders on unanswered questions | shared/styles.css | Blue before grading, green/red after |
| 10 | Warm section headers (title case + emoji) | index.html | No ALL CAPS, coach tone |
| 11 | Coach voice empty states | index.html | Every empty state sounds like a coach |
| 12 | Curriculum-based test titles | exam.html | Titles show "Unit: Topic â€” Standards" |
| 13 | Print: expanded writing space | shared/print.css | Print preview has 2-3x writing space |
| 14 | Print: page break control | shared/print.css | No split questions, page numbers, margins |

COMMIT after Phase 4. Message: `feat: polish â€” borders, headers, empty states, print (Tasks 9-14)`

## RULES

1. **Read `docs/mcm-implementation-spec.md` first.** The full spec has exact CSS, exact HTML, exact "done when" for every task. Do not improvise.
2. **Commit after each phase.** 4 phases = 4 commits minimum. More is fine.
3. **ADHD constraint on every decision.** Fewer choices, less noise, one action at a time, positive framing.
4. **Do not touch data/ files.** JSON question banks are owned by GR.
5. **Do not touch tests/ files.** Test suite is owned by GF.
6. **Push after every commit.** `git push origin master`
7. **When all 14 done:** Write a completion message to FA inbox at `.agent-comms/forge/inbox-FA/` and GF inbox at `.agent-comms/forge/inbox-FF/` telling GF to validate.

## GF VALIDATION (after GA finishes)

GF: When you see GA's completion message, run the full validation:

1. `npx playwright test` â€” all existing e2e tests still pass
2. New checks for each task:
   - exam.html no-param â†’ picker renders (not Loading)
   - computedStyle.fontFamily on body/h1/p â†’ no Times New Roman
   - Button count per tier per page
   - Arena toggle persists across navigation
   - Archive pages: inputs disabled, submit hidden, banner visible
   - Print preview: no split questions, page numbers
3. Write results to FA inbox.

## KEEP-ALIVE PROTOCOL

Every 15 minutes:
1. `git add -A && git commit` (even partial progress)
2. `git push origin master`
3. Check inbox for messages

If you finish early: run GF's validation yourself as a smoke test. Then write the completion message.

If you hit a blocker: commit what you have, write the blocker to FA inbox, move to the next task. Don't stall.

### ðŸ”´ THE GOLDEN RULE: If you have nothing to do, you haven't looked hard enough.

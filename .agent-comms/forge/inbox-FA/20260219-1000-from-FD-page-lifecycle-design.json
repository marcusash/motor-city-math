{
  "files": [
    ".design-review-mcm.md"
  ],
  "priority": "high",
  "status": "unread",
  "id": "msg-20260219-fa-design-note-001",
  "to": "FA",
  "created": "2026-02-19T10:00:00Z",
  "from": "FD",
  "body": "DESIGN NOTE: Page Lifecycle & Shared Navigation — For FA Architecture Review\n\nFrom Agent FD (Design Director) — Mash approved this direction.\n\n=== CONTEXT ===\n\nDuring the MCM design review, I found 20 HTML files with 20 independent header structures. Mash clarified that most of these pages are COMPLETED TESTS — Kai took them once and they should become read-only archives with his answers preserved. He'll never retake the same test.\n\nThis fundamentally changes the implementation scope.\n\n=== PROPOSED ARCHITECTURE ===\n\nTWO PAGE TYPES:\n\n1. ACTIVE PAGES (6 — get shared header, full design treatment):\n   - index.html (dashboard)\n   - practice.html (practice hub)\n   - exam.html (dynamic exam loader)\n   - test.html (dynamic test generator)\n   - test-builder.html (test configuration)\n   - parent.html (parent dashboard)\n\n   These get a shared header component: logo/title left, timer right (if applicable), back arrow always top-left. Consistent across all 6.\n\n2. ARCHIVE PAGES (14 — freeze with minimal changes):\n   - quiz_251117.html, quiz_251120.html, quiz_251121.html\n   - final_exam_251123.html, final_exam_251123_mini.html\n   - linear_functions_test.html, nonlinear_functions_test.html\n   - nonlinear_exam_mvp.html, exponents_exam.html\n   - unit2_nonlinear_review.html\n   - 20260119_Exponents_Unit1.html (+ 2nd, 3rd)\n   - index_calc.html\n\n   These get ONE CSS class on the body: body.archived\n\n=== ARCHIVE MODE SPEC ===\n\nWhen body.archived is applied:\n\nCSS changes (~20 lines in shared/styles.css):\n- All input, select, textarea elements: disabled, pointer-events: none, opacity: 0.9\n- Submit/check buttons: display: none\n- A small banner appears at top: \"Completed [date] · Score: X/Y\" in a muted style\n- Header is slightly muted (opacity: 0.85) to signal \"this isn't active\"\n- Arena mode toggle still works (Kai might want to review in dark mode)\n- \"Back to Dashboard\" link remains functional\n\nJS changes (minimal):\n- A small script checks if the page is archived and applies the class\n- Could be as simple as a data attribute on the body tag: <body data-archived=\"2025-11-17\" data-score=\"12/15\">\n- Or a query param: ?archived=true (but Mash probably wants it baked into the HTML)\n\n=== NEW TEST LIFECYCLE ===\n\nWhen Kai finishes a future test:\n1. Test is graded, score displayed\n2. The HTML gets body.archived class + data attributes for date/score\n3. Page becomes read-only — inputs locked, submit hidden, banner shows\n4. Page stays in the repo as a permanent record\n5. Dashboard (index.html) shows it in the \"completed\" section with score + link\n\n=== IMPLEMENTATION EFFORT ===\n\n| Task | Scope | Estimate |\n|------|-------|----------|\n| Shared header component for 6 active pages | Extract pattern, apply to 6 files | Medium |\n| Archive CSS class | ~20 lines in shared/styles.css | Small |\n| Archive banner | Small HTML template + positioning CSS | Small |\n| Apply body.archived to 14 existing pages | Add class + data attributes | Small (mechanical) |\n| Test lifecycle (future tests auto-archive) | JS in exam.html/test.html grading flow | Medium |\n\nTotal: significantly less than redesigning 20 pages.\n\n=== DESIGN REVIEW CONTEXT ===\n\nFull review at: .design-review-mcm.md\nScreenshots at: design-review-screenshots/\n\nThe shared header is C3 (Critical) in the review. The archive concept is Mash's direction that emerged during the review walkthrough. The other critical findings (C1: exam error state, C2: Times New Roman leak) are independent and can be addressed separately.\n\n=== QUESTIONS FOR FA ===\n\n1. Should the shared header be a JS-injected component (one source, loaded on each page) or a duplicated HTML block in each of the 6 active pages? JS injection is DRY but adds a dependency. HTML duplication is simpler but means 6 copies to maintain.\n\n2. For the archive lifecycle: is the body class + data attributes approach the right pattern, or would you prefer a different mechanism (query params, a JSON manifest of completed tests, etc.)?\n\n3. The dashboard (index.html) currently lists all tests. Should it distinguish between \"available\" and \"archived\" tests, or should archived tests move to a separate section/page entirely?\n\n— Agent FD",
  "type": "review_request",
  "subject": "Design note: page lifecycle (active vs archive) + shared navigation — architecture review needed",
  "project": "mcm"
}

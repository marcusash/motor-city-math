# Motor City Math â€” Agent Status Board

> Live task tracking for all agents. Each agent owns their section.
> Update after every completed task. Use `- [x]` for done, `- [ ]` for in progress.
> Read `.agents.md` for roles. Read `.agent-protocol.md` for rules.

---

## ğŸ“¢ Team Announcement â€” Feb 17, 2026

**From Marcus (Human Lead):**

The Motor City Math agent team is fully ramped. All infrastructure is in place, onboarding docs are complete, and there are no more asks from me at this time. You have everything you need:

- `.agent-onboarding.md` â€” Master onboarding for all 6 agents
- `.voice-guide.md` â€” Copy/tone reference
- `.design-system.md` â€” Full visual spec
- `.agent-protocol.md` â€” Communication rules
- `.agents.md` â€” File ownership and feature map
- `.marcus-queue.md` â€” Decision queue (empty = no blockers from me)

**Current team progress:**
- **Agent D (Design):** 6 tasks done â€” design system, voice guide, onboarding, R-agent message âœ…
- **Agent F (Fundamentals):** 7/12 tasks done â€” 208 tests, audits across print/mobile/offline/grading âœ…
- **Agent R (Research):** 3 tasks done â€” 142 questions extracted, standards registry built âœ…
- **Agent P (Platform):** 8/8 tasks done â€” repo structure, README, conventions, .gitignore âœ…
- **Agent I (Importer):** 5/7 tasks done â€” PDF pipeline, Unit 2 worksheet parsed â†’ HTML âœ…
- **Agent A (Application):** 5/14 tasks done â€” shared CSS/JS system built, all 13 files migrated to Pistons design âœ…
- **Agent S (Security):** Not yet started â€” onboarding doc ready, backlog defined

**What this means:** Execute your backlogs autonomously. Post cross-agent requests in your status section. Post decisions for me in `.marcus-queue.md`. I'll check in periodically but you don't need to wait for me.

Priority order: Fix the blocker bugs (B-1 through B-24), then continue feature work.

---

## Application Agent (A) Status
_Domains: Build system, shared components, templating, dashboard, grading engine_

> **Executive Summary:** A-1 through A-5 COMPLETE. Created shared CSS/JS/print/chart-theme system and migrated all 13 HTML files to use it. Old burgundy `#8B1E3F` palette fully replaced with Pistons design system (`#C8102E`, `#1D42BA`, `#002D62`). All grading logic preserved exactly. Ready for A-6 (auto-grading engine).

### Completed
- [x] A-1: Extract shared CSS â†’ `shared/styles.css` (13KB, full Pistons design system) âœ…
- [x] A-2: Extract shared JS â†’ `shared/scripts.js` (answer key modal, save/load, print, grading utils) âœ…
- [x] A-3: Create Chart.js theme â†’ `shared/chart-theme.js` (MCM_CHART_COLORS + Chart.defaults) âœ…
- [x] A-4: Create print stylesheet â†’ `shared/print.css` (@media print + hidden print-header) âœ…
- [x] A-5: Migrate all 13 HTML files to shared CSS/JS â€” each verified individually âœ…

### Backlog
- [ ] A-6: Build auto-grading engine (extend `check()` to all question types)
- [ ] A-7: Add auto-grading to the 10 files that lack it
- [ ] A-8: Build dashboard (`index.html`) â€” test index, scores, completion status
- [ ] A-9: Implement KaTeX rendering across all tests (replace MathJax in 4 files)
- [ ] A-10: Per-standard scoring display in footer
- [ ] A-11: Streak counter (consecutive correct answers)
- [ ] A-12: Build question renderer from JSON bank
- [ ] A-13: Build randomized practice mode
- [ ] A-14: Build test builder (pick standards + difficulty â†’ generate test)

### Cross-Agent Requests

**â†’ Agent P: ~~Please commit Agent A's staged changes~~ DONE âœ…**
Committed by Agent P as `e4ec37d`. Temp files (`migrate_index.py`, `_migrate_calc.py`, `test_write.txt`) cleaned up.

---

## Research Agent (R) Status
_Domains: Curriculum alignment, question accuracy, pedagogy, question bank_

> **Executive Summary:** R-1/R-2 COMPLETE. Audited all ~200 questions across 12 files. Found **21 blocker math errors** and **3 high-severity issues** â€” concentrated in `index.html` (grading code from wrong test version), `final_exam_251123.html` (6 wrong headline answers), and shared Q6/Q16b computation errors. 8 of 12 files are CLEAN.

### Completed
- [x] R-1: Audit all ~200 existing questions for mathematical accuracy â€” DONE âœ…
- [x] R-2: Verify all answer keys are correct (every answer in all 12 files) â€” DONE âœ…

### Findings

**ğŸ”´ CRITICAL: `index.html` auto-grading is 100% broken**
The grading code (answers object, feedback array) was written for `index_calc.html` and copy-pasted to `index.html`, which has completely different questions. Every grading answer is wrong. The grading function also crashes due to null element references (Q11, Q14 don't exist in the HTML). The answer key MODAL text is mostly correct â€” only the auto-grading JS is broken.

**ğŸ”´ `final_exam_251123.html` has 6 wrong headline answers**
The answer key shows correct work but wrong bolded answers for Q1 (-234 should be 210), Q5 (x=-3 should be x=-9), Q6 (sign error), Q7 (12/13 should be 6/5), Q16b (91.125 should be ~136.7), Q17b ($380,293 should be ~$389,839). The mini version (8 Qs) fixed Q1, Q5, Q7 but still has the Q6 sign error.

**ğŸ”´ Shared computation errors (affect `index.html`, `index_calc.html`)**
- Q6d: Temperature at hour 10 = 66Â°F, not 62Â°F (arithmetic: 70+2(-2)=66)
- Q16b: V(4) = 28000Ã—0.85â´ = $14,616.18, not $14,636.56

**âœ… CLEAN files (8 of 12):**
- `quiz_251117.html` â€” All 4 inverse function questions verified âœ…
- `quiz_251120.html` â€” All 5 linear/exponential questions verified âœ…
- `quiz_251121.html` â€” All 7 questions verified âœ…
- `nonlinear_functions_test.html` â€” All 7 nonlinear function questions verified âœ…
- `exponents_exam.html` â€” All 20 answers across 6 questions verified âœ…
- `20260119_Exponents_Unit1.html` â€” All 19 answers verified âœ…
- `20260119_Exponents_Unit1_2nd.html` â€” All 19 answers verified âœ…
- `20260119_Exponents_Unit1_3rd.html` â€” All 19 answers verified âœ…

### Completed (continued)
- [x] R-5: Build `data/questions.json` â€” 142 questions extracted from all 12 HTML files âœ…
- [x] R-6: Build `data/standards.json` â€” all SAAS standards (1.a-5.c, 6.a-6.e, W1.a-W1.f) with descriptions and question counts âœ…
- [x] R-10: Difficulty calibration rubric â€” easy/medium/hard criteria defined in standards.json âœ…
- [x] R-3: Tag each question with standard and difficulty â€” all 142 questions tagged âœ…
- [x] R-4: Map questions to SAAS curriculum standards â€” all mapped to units and standards âœ…

### Question Bank Stats
- **142 questions** across 12 source files
- **6 units:** exponents (63), functions (41), expressions-equations (14), exponential-functions (10), nonlinear-functions (7), linear-models (7)
- **Difficulty:** easy (27), medium (68), hard (47)
- **Standards coverage:** 31 unique standards mapped
- **Corrected answers:** All known bugs from R-1/R-2 applied to JSON (not to HTML source files â€” those are Agent A's)

### Backlog
- [ ] R-11: Parse `Winter Tri Standards Worksheets/` PDF into structured question data
- [ ] R-12: Generate 50 new questions per unit to expand the question bank

### Recently Completed
- [x] R-7: Step-by-step solutions for all 142 questions âœ…
- [x] R-8: Scaffolded hints for all 142 questions (â‰¤12 words, coaching voice) âœ…
- [x] R-9: Spaced repetition design â†’ `docs/spaced-repetition-design.md` (Modified Leitner, localStorage, ADHD-safe) âœ…

### Cross-Agent Requests
- **For Agent A:** `index.html` auto-grading needs complete rewrite. The grading code is from `index_calc.html` and doesn't match any questions. Recommend: (1) Remove broken grading from `index.html` or (2) Write new grading code matching the actual Q1-Q16 questions. Also fix Q6d (62â†’66) and Q16b (14636.56â†’14616.18) in `index_calc.html`.
- **For Agent A:** `final_exam_251123.html` answer key has 6 wrong headline answers (Q1, Q5, Q6, Q7, Q16b, Q17b). The step-by-step work is correct â€” only the bolded answer values are wrong. Fix is surgical: replace the wrong numbers. `final_exam_251123_mini.html` has 1 remaining error (Q6 sign).
- **For Agent A (NEW):** Spaced repetition design doc ready at `docs/spaced-repetition-design.md`. Modified Leitner system, localStorage data model, queue algorithm, ADHD constraints. Ready to implement when practice mode is built.
- **For Agent A (NEW):** `data/questions.json` (142 Qs) is ready for the question renderer (A-12). Schema: id, unit, standard, difficulty, type, question_text, sub_parts, hint, solution_steps, tags. All hints â‰¤12 words.

---

## Design Agent (D) Status
_Domains: Visual design, UX, interaction patterns, responsive, accessibility_

> **Executive Summary:** Full backlog complete. 17/17 design tasks done. All component specs, responsive, print, dark mode, and accessibility shipped. Agent A has everything needed to build.

- [x] D-1: Project inventory and review â€” DONE âœ… `.project-review.md`
- [x] D-2: Design system v2.0 â€” DONE âœ… `.design-system.md` (15 sections, Pistons palette, confirmed feature roadmap)
- [x] D-2b: Name brainstorm â€” DONE âœ… **"Motor City Math"**
- [x] D-3: Dashboard wireframe and spec â€” DONE âœ… `.dashboard-spec.md` (desktop + phone layouts, score chart, standard cards, study-next section, data model, accessibility, animation)
- [x] D-4: Score card component spec â€” DONE âœ… `.scorecard-spec.md` (post-submission card, per-standard grid, progress bars, tiered voice copy, CSS)
- [x] D-5: Chart spec + Pistons theme â€” DONE âœ… `.chart-spec.md` (Chart.js theme tokens, score history line chart, math chart color migration, responsive sizing, print handling, animation, empty states)
- [x] D-6: Mobile responsive spec â€” DONE âœ… `.responsive-spec.md` (4 breakpoints, touch targets 44px, iOS zoom fix, full-width inputs, chart/canvas responsive, component-by-component rules)
- [x] D-7: Arena Mode (dark theme) spec â€” DONE âœ… `.arena-mode-spec.md` (CSS custom properties, light/dark token map, toggle button, localStorage persist, WCAG AA verified, print exclusion, prefers-color-scheme support)
- [x] D-8: Streak counter UI spec â€” DONE âœ… `.streak-spec.md` (fire emoji, milestone tiers, pulse animation, sticky placement, ADHD-safe reset behavior)
- [x] D-9: Question type component specs â€” DONE âœ… `.question-type-spec.md` (short answer, multi-part, extended response, graphing canvas, chart-embedded â€” full HTML/CSS/behavior for each)
- [x] D-10: Hint system UI â€” DONE âœ… `.hint-system-spec.md` (3-layer reveal: hint â†’ answer â†’ solution, CSS, behavior rules, ADHD single-action-per-layer)
- [x] D-11: Print layout spec â€” DONE âœ… `.print-spec.md` (consolidated print.css, print header with name/date, inputsâ†’blank lines, charts keep color, migration plan)
- [x] D-12: Accessibility spec â€” DONE âœ… `.accessibility-spec.md` (WCAG 2.1 AA audit, focus indicators, label association, ARIA landmarks, live regions, keyboard nav, reduced motion, skip link)
- [x] D-13: Voice guide â€” DONE âœ… `.voice-guide.md`
- [x] D-14: Agent onboarding â€” DONE âœ… `.agent-onboarding.md`
- [x] D-15: Research agent message â€” DONE âœ… `.agent-r-onboarding-message.md`
- [x] D-16: Timer UX spec â€” DONE âœ… `.timer-spec.md` (countdown, warning/urgent states, toast notifications, ADHD-aware: remaining not elapsed, motivational not punitive)

### Backlog
_(empty â€” all tasks complete)_

### Cross-Agent Requests
- For Agent A: 8 new specs ready for implementation:
  - `.chart-spec.md` â†’ A-3 (Chart.js theme)
  - `.streak-spec.md` â†’ A-11 (Streak counter)
  - `.timer-spec.md` â†’ Timer implementation
  - `.question-type-spec.md` â†’ A-12 (Question renderer)
  - `.responsive-spec.md` â†’ Responsive CSS in shared/styles.css
  - `.print-spec.md` â†’ A-4 (shared/print.css)
  - `.arena-mode-spec.md` â†’ Dark mode (P3, defer)
  - `.accessibility-spec.md` â†’ P0 items during CSS extraction, P1 during migration
- For Agent R: Question type schema in `.question-type-spec.md` Â§7 â€” align `data/questions.json` `type` field
- For Agent F: Testing checklists in `.responsive-spec.md` and `.accessibility-spec.md` â€” verification items for QA

---

## Fundamentals Agent (F) Status
_Domains: Testing, validation, grading accuracy, edge cases, print QA_

> **Executive Summary:** 9 tasks complete. 9 test suites, ~260 tests. Found 2 blocker math errors, 1 localStorage collision, 1 compromised CDN (polyfill.io), 5 grading logic issues, 3 CDN offline risks. Regression test suite guards shared/scripts.js. Remaining 3 tasks blocked on other agents.

### Completed
- [x] F-1: Audit auto-grading logic â€” DONE âœ… (52 tests)
- [x] F-2: Answer validation tests â€” DONE âœ… (80 tests)
- [x] F-3: Print layout audit â€” DONE âœ… (14 tests)
- [x] F-4: Save/load localStorage audit â€” DONE âœ… (4 tests)
- [x] F-5: Chart.js rendering audit â€” DONE âœ… (17 tests)
- [x] F-6: Mobile responsive audit â€” DONE âœ… (28 tests)
- [x] F-7: Grading regression tests â€” DONE âœ… (76 tests)
- [x] F-9: Cross-browser compat audit â€” DONE âœ… (14 tests)
- [x] F-12: Offline/CDN audit â€” DONE âœ… (3 tests)

### Blocked
- [ ] F-8: KaTeX rendering tests â€” blocked on A-9 (KaTeX migration)
- [ ] F-10: Question bank schema validation â€” blocked on R-5 (questions.json)
- [ ] F-11: Dashboard data integrity tests â€” blocked on A-8 (dashboard)

### Findings
- ğŸ”´ Q6d answer=62, correct=66 â€” confirms B-13
- ğŸ”´ Q16b answer=14636.56, correct=14616.18 â€” confirms B-1
- ğŸ”´ 4 files share "algebra2TestResults" localStorage key â€” data overwrite (B-F3)
- ğŸ”´ 5 files load polyfill.io â€” compromised CDN, security risk (B-F4)
- ğŸŸ¡ `parseFloat("$33")` = NaN â€” dollar prefix marks correct answers wrong
- ğŸŸ¡ `parseFloat("5,000")` = 5 â€” comma formatting breaks comparison
- ğŸŸ¡ 4-char prefix keyword match too loose â€” 7 false positive patterns
- ğŸŸ¡ 3 CDN deps with zero local fallbacks (Chart.js, MathJax, polyfill.io)
- ğŸŸ¡ 4 files use old burgundy #8B1E3F in chart colors
- ğŸŸ¡ 4 files using shared/print.css lack break-inside:avoid
- ğŸŸ¡ 0/13 files have inline responsive queries (only 4 use shared/styles.css)
- â„¹ï¸ 2 files load Chart.js but have 0 charts (wasted download)

### Cross-Agent Requests
- For Agent A: ğŸ”´ REMOVE polyfill.io from 5 files immediately â€” security risk. MathJax 3 doesn't need it.
- For Agent A: When rebuilding `check()`, address: dollar-sign stripping, comma removal, stricter keyword matching.
- For Agent A: Migrate chart colors from #8B1E3F to Pistons palette. Add break-inside:avoid to shared/print.css.
- For Agent A: Bundle Chart.js locally in shared/ for offline. Add `<script onerror>` fallback.
- For Agent R: Verify Q2a ($33), Q2b (5 devices), Q3a-d â€” graph-reading answers need visual check.
- For Agent S: localStorage collision â€” 4 files share key. Recommend "mcm-{filename}-results" pattern.

---

## Security Agent (S) Status
_Domains: Data integrity, progress tracking, offline-first, privacy_

> **Executive Summary:** Not yet started. Waiting for agent onboarding.

### Backlog
- [ ] S-1: Design localStorage schema for progress tracking (per-test scores, per-question history, timestamps)
- [ ] S-2: Audit existing save/load code for data corruption risks
- [ ] S-3: Design data export format (JSON backup of all progress)
- [ ] S-4: Ensure no student PII beyond first name in any file
- [ ] S-5: Offline-first audit â€” what breaks without internet? (CDN deps: KaTeX, Chart.js)
- [ ] S-6: Design migration path if localStorage schema changes
- [ ] S-7: Test data persistence across browser updates, cache clears
- [ ] S-8: Evaluate IndexedDB vs localStorage for question bank storage

### Cross-Agent Requests
_(none yet)_

---

## Platform Agent (P) Status
_Domains: Agent coordination, CI/CD, docs, repo hygiene, taskboards_

> **Executive Summary:** Active. Repo structure created, README shipped, .gitignore hardened, commit conventions documented. Foundation set for all agents.

- [x] P-1: Set up repo structure (shared/, tests/, data/, docs/ + unit subdirs) â€” DONE âœ…
- [x] P-2: Write README.md â€” DONE âœ… Project description, usage, structure, agent onboarding links
- [x] P-3: Enhance .gitignore â€” DONE âœ… Added editor files, node_modules, archives, temp files
- [x] P-4: File naming conventions â€” DONE âœ… Added Â§10b to `.agent-protocol.md` with kebab-case rules + migration mapping
- [x] P-5: Create `.marcus-queue.md` template â€” DONE âœ… (Agent D created it)
- [x] P-6: Agent onboarding verification â€” DONE âœ… Cross-doc audit complete. Fixed: added Agent I to `.agent-protocol.md` Â§1 for consistency with `.agents.md`
- [x] P-7: Define commit message conventions â€” DONE âœ… Added Â§11 to `.agent-protocol.md`
- [x] P-8: Create taskboard refresh schedule â€” DONE âœ… Added Â§8b to `.agent-protocol.md`

### Cross-Agent Requests
- For Agent A: shared/, tests/, data/ directories are ready. When you start A-1 (extract shared CSS), the folder structure is in place.
- For all agents: Commit conventions are in `.agent-protocol.md` Â§11. Use the `type(scope): description` format.

---

## Bugs

| ID | Severity | Description | File | Owner | Status |
|----|----------|-------------|------|-------|--------|
| B-1 | blocker | Q16b grading: 28000Ã—0.85â´ = 14616.18, not 14636.56 | index.html | A | open |
| B-2 | blocker | Q9 grading answers from wrong test (data plan vs inverse function) | index.html | A | open |
| B-3 | blocker | Q10 grading answers from wrong test + references nonexistent q10b | index.html | A | open |
| B-4 | blocker | Q11 grading references nonexistent elements â€” JS crash | index.html | A | open |
| B-5 | blocker | Q12 grading answers wrong (2/38/68 not "per mile"/"base"/90) | index.html | A | open |
| B-6 | blocker | Q13 grading answers from wrong test (slope vs scatterplot) | index.html | A | open |
| B-7 | blocker | Q14 grading references nonexistent elements â€” JS crash | index.html | A | open |
| B-8 | blocker | Q1 grading references "q1" but inputs are q1a-q1e â€” JS crash | index.html | A | open |
| B-9 | blocker | Q2 grading answers 33/5 but Q2 asks for sequence types | index.html | A | open |
| B-10 | blocker | Q3 grading references q3a-q3d but inputs are q3_table1-7 â€” crash | index.html | A | open |
| B-11 | blocker | Q4 grading checks 3 values but Q4 has 13 sub-questions | index.html | A | open |
| B-12 | high | Q2-D answer key: sequence differences "9,8,9,10" should be "7,8,9,10" | index.html | A | open |
| B-13 | blocker | Q6c answer: 70+2(-2)=66Â°F, not 62Â°F. Both grading and answer key wrong | index.html | A | open |
| B-14 | blocker | Q1 answer key says -234, work shows 210. Correct is 210 | final_exam_251123.html | A | open |
| B-15 | blocker | Q5 answer key says x=-3, work shows x=-9. Correct is -9 | final_exam_251123.html | A | open |
| B-16 | blocker | Q7 answer key says x<12/13, work shows x<6/5. Correct is 6/5 | final_exam_251123.html | A | open |
| B-17 | blocker | Q6 sign error: k=(7-b-3aÂ²b)/(4-6a) should be (3aÂ²b+b-7)/(4-6a) | final_exam_251123.html | A | open |
| B-18 | blocker | Q16b: 91.125 is week 5, not week 6. P(6)â‰ˆ136.7 | final_exam_251123.html | A | open |
| B-19 | blocker | Q17b: 0.962^12â‰ˆ0.6288 giving ~$389,839, not $380,293 | final_exam_251123.html | A | open |
| B-20 | high | Q4b: headline says 10.0 hours but work shows ~10.2 | final_exam_251123.html | A | open |
| B-21 | blocker | Q6 sign error (same as full exam) | final_exam_251123_mini.html | A | open |
| B-23 | blocker | Q6d temperature: 66Â°F not 62Â°F | index_calc.html | A | open |
| B-24 | blocker | Q16b depreciation: 14616.18 not 14636.56 | index_calc.html | A | open |
| B-F3 | high | localStorage key collision: 4 files share "algebra2TestResults" â€” saving one overwrites others | index.html, index_calc.html, final_exam*.html | S | open |
| B-F4 | blocker | polyfill.io CDN compromised â€” acquired by malicious actor in 2024, served malware. REMOVE immediately. MathJax 3 doesnt need it. | 5 files (3 exponents + nonlinear + unit2_review) | A | open |

---

*Last updated: 2026-02-17 by platform-agent (P-1 thru P-7 complete, repo structure + README shipped)*

---

## Importer Agent (I) Status
_Domains: PDF import pipeline, OCR, content conversion, teacher worksheet parsing_

> **Executive Summary:** First import complete. Parsed SAAS Unit 2 Review worksheet (10-page PDF) â†’ 26 structured questions â†’ HTML test file with answer key. Scanned exam deferred (needs OCR). Awaiting Agent R for answer verification.

### Backlog
- [x] I-0: Read all onboarding docs, register as Agent I â€” DONE âœ…
- [x] I-1: Assess source PDFs â€” DONE âœ… See `import/pdf-assessment.md`
- [x] I-2: Build PDF text extraction pipeline â€” DONE âœ… `import/extract-pdf.mjs` (pdfjs-dist)
- [x] I-3: Parse extracted text into question objects â€” DONE âœ… `import/parse-worksheet.mjs` (27 questions parsed)
- [x] I-4: Output parsed questions as JSON â€” DONE âœ… `import/unit2-review-questions.json` (26 questions in R-agent format)
- [ ] I-5: Parse scanned exam PDF (`2026011_Kai_exponents_Unit1.pdf`) via OCR â€” DEFERRED (image-only PDF, needs OCR tooling; content already covered by 4 existing exponents tests)
- [x] I-6: Generate HTML test from parsed content â€” DONE âœ… `unit2_nonlinear_review.html` (26 questions, MathJax, answer key, save/load, print)
- [ ] I-7: Cross-validate all parsed answers with Agent R before shipping

### Cross-Agent Requests
- For Agent R: Will need answer verification on all parsed content before it ships. Math accuracy is non-negotiable.
- For Agent A: Will need the HTML test template format to generate output tests.

# Motor City Math â€” Agent Status Board

> Live task tracking for all agents. Each agent owns their section.
> Update after every completed task. Use `- [x]` for done, `- [ ]` for in progress.
> Read `.agents.md` for roles. Read `.agent-protocol.md` for rules.

---

## Application Agent (A) Status
_Domains: Build system, shared components, templating, dashboard, grading engine_

> **Executive Summary:** Not yet started. Waiting for agent onboarding.

### Backlog
- [ ] A-1: Extract shared CSS from 12 HTML files â†’ `shared/styles.css`
- [ ] A-2: Extract shared JS from 12 HTML files â†’ `shared/scripts.js`
- [ ] A-3: Create Chart.js theme file â†’ `shared/chart-theme.js`
- [ ] A-4: Create print stylesheet â†’ `shared/print.css`
- [ ] A-5: Migrate all 12 HTML files to use shared CSS/JS (one at a time, verify each)
- [ ] A-6: Build auto-grading engine (extend `check()` to all question types)
- [ ] A-7: Add auto-grading to the 10 files that lack it
- [ ] A-8: Build dashboard (`index.html`) â€” test index, scores, completion status
- [ ] A-9: Implement KaTeX rendering across all tests (replace MathJax in 4 files)
- [ ] A-10: Per-standard scoring display in footer
- [ ] A-11: Streak counter (consecutive correct answers)
- [ ] A-12: Build question renderer from JSON bank
- [ ] A-13: Build randomized practice mode
- [ ] A-14: Build test builder (pick standards + difficulty â†’ generate test)

### Cross-Agent Requests
_(none yet)_

---

## Research Agent (R) Status
_Domains: Curriculum alignment, question accuracy, pedagogy, question bank_

> **Executive Summary:** R-1/R-2 COMPLETE. Audited all ~200 questions across 12 files. Found **21 blocker math errors** and **3 high-severity issues** â€” concentrated in `index.html` (grading code from wrong test version), `final_exam_251123.html` (6 wrong headline answers), and shared Q6/Q16b computation errors. 8 of 12 files are CLEAN.

### Completed
- [x] R-1: Audit all ~200 existing questions for mathematical accuracy â€” DONE âœ…
- [x] R-2: Verify all answer keys are correct (every answer in all 12 files) â€” DONE âœ…

### Findings

**ğŸ”´ CRITICAL: `index.html` auto-grading is 100% broken**
The grading code (answers object, feedback array) was written for `index_calc.html` and copy-pasted to `index.html`, which has completely different questions. Every grading answer is wrong. The grading function also crashes due to null element references (Q11, Q14 don't exist in the HTML). The answer key MODAL text is mostly correct â€” only the auto-grading JS is broken.

**ğŸ”´ `final_exam_251123.html` has 6 wrong headline answers**
The answer key shows correct work but wrong bolded answers for Q1 (-234 should be 210), Q5 (x=-3 should be x=-9), Q6 (sign error), Q7 (12/13 should be 6/5), Q16b (91.125 should be ~136.7), Q17b ($380,293 should be ~$389,839). The mini version (8 Qs) fixed Q1, Q5, Q7 but still has the Q6 sign error.

**ğŸ”´ Shared computation errors (affect `index.html`, `index_calc.html`)**
- Q6d: Temperature at hour 10 = 66Â°F, not 62Â°F (arithmetic: 70+2(-2)=66)
- Q16b: V(4) = 28000Ã—0.85â´ = $14,616.18, not $14,636.56

**âœ… CLEAN files (8 of 12):**
- `quiz_251117.html` â€” All 4 inverse function questions verified âœ…
- `quiz_251120.html` â€” All 5 linear/exponential questions verified âœ…
- `quiz_251121.html` â€” All 7 questions verified âœ…
- `nonlinear_functions_test.html` â€” All 7 nonlinear function questions verified âœ…
- `exponents_exam.html` â€” All 20 answers across 6 questions verified âœ…
- `20260119_Exponents_Unit1.html` â€” All 19 answers verified âœ…
- `20260119_Exponents_Unit1_2nd.html` â€” All 19 answers verified âœ…
- `20260119_Exponents_Unit1_3rd.html` â€” All 19 answers verified âœ…

### Backlog
- [ ] R-3: Tag each question with: standard, difficulty (1-5), question type (MC/short/graph/proof)
- [ ] R-4: Map questions to SAAS curriculum standards (Unit 1-4)
- [ ] R-5: Build `data/questions.json` schema + initial population from existing tests
- [ ] R-6: Build `data/standards.json` â€” all Algebra II standards with descriptions
- [ ] R-7: Write step-by-step solutions for all questions
- [ ] R-8: Write hints for all questions (scaffolded: hint 1, hint 2, then answer)
- [ ] R-9: Design spaced repetition algorithm (missed Qs return at 1d, 3d, 7d intervals)
- [ ] R-10: Research difficulty calibration â€” are the questions appropriately hard for Algebra II?
- [ ] R-11: Parse `Winter Tri Standards Worksheets/` PDF into structured question data
- [ ] R-12: Generate 50 new questions per unit to expand the question bank

### Cross-Agent Requests
- **For Agent A:** `index.html` auto-grading needs complete rewrite. The grading code is from `index_calc.html` and doesn't match any questions. Recommend: (1) Remove broken grading from `index.html` or (2) Write new grading code matching the actual Q1-Q16 questions. Also fix Q6d (62â†’66) and Q16b (14636.56â†’14616.18) in `index_calc.html`.
- **For Agent A:** `final_exam_251123.html` answer key has 6 wrong headline answers (Q1, Q5, Q6, Q7, Q16b, Q17b). The step-by-step work is correct â€” only the bolded answer values are wrong. Fix is surgical: replace the wrong numbers. `final_exam_251123_mini.html` has 1 remaining error (Q6 sign).
- **For Agent F:** After Agent A fixes these, please regression-test all grading and answer keys.

---

## Design Agent (D) Status
_Domains: Visual design, UX, interaction patterns, responsive, accessibility_

> **Executive Summary:** Full backlog complete. 17/17 design tasks done. All component specs, responsive, print, dark mode, and accessibility shipped. Agent A has everything needed to build.

- [x] D-1: Project inventory and review â€” DONE âœ… `.project-review.md`
- [x] D-2: Design system v2.0 â€” DONE âœ… `.design-system.md` (15 sections, Pistons palette, confirmed feature roadmap)
- [x] D-2b: Name brainstorm â€” DONE âœ… **"Motor City Math"**
- [x] D-3: Dashboard wireframe and spec â€” DONE âœ… `.dashboard-spec.md` (desktop + phone layouts, score chart, standard cards, study-next section, data model, accessibility, animation)
- [x] D-4: Score card component spec â€” DONE âœ… `.scorecard-spec.md` (post-submission card, per-standard grid, progress bars, tiered voice copy, CSS)
- [x] D-5: Chart spec + Pistons theme â€” DONE âœ… `.chart-spec.md` (Chart.js theme tokens, score history line chart, math chart color migration, responsive sizing, print handling, animation, empty states)
- [x] D-6: Mobile responsive spec â€” DONE âœ… `.responsive-spec.md` (4 breakpoints, touch targets 44px, iOS zoom fix, full-width inputs, chart/canvas responsive, component-by-component rules)
- [x] D-7: Arena Mode (dark theme) spec â€” DONE âœ… `.arena-mode-spec.md` (CSS custom properties, light/dark token map, toggle button, localStorage persist, WCAG AA verified, print exclusion, prefers-color-scheme support)
- [x] D-8: Streak counter UI spec â€” DONE âœ… `.streak-spec.md` (fire emoji, milestone tiers, pulse animation, sticky placement, ADHD-safe reset behavior)
- [x] D-9: Question type component specs â€” DONE âœ… `.question-type-spec.md` (short answer, multi-part, extended response, graphing canvas, chart-embedded â€” full HTML/CSS/behavior for each)
- [x] D-10: Hint system UI â€” DONE âœ… `.hint-system-spec.md` (3-layer reveal: hint â†’ answer â†’ solution, CSS, behavior rules, ADHD single-action-per-layer)
- [x] D-11: Print layout spec â€” DONE âœ… `.print-spec.md` (consolidated print.css, print header with name/date, inputsâ†’blank lines, charts keep color, migration plan)
- [x] D-12: Accessibility spec â€” DONE âœ… `.accessibility-spec.md` (WCAG 2.1 AA audit, focus indicators, label association, ARIA landmarks, live regions, keyboard nav, reduced motion, skip link)
- [x] D-13: Voice guide â€” DONE âœ… `.voice-guide.md`
- [x] D-14: Agent onboarding â€” DONE âœ… `.agent-onboarding.md`
- [x] D-15: Research agent message â€” DONE âœ… `.agent-r-onboarding-message.md`
- [x] D-16: Timer UX spec â€” DONE âœ… `.timer-spec.md` (countdown, warning/urgent states, toast notifications, ADHD-aware: remaining not elapsed, motivational not punitive)

### Backlog
_(empty â€” all tasks complete)_

### Cross-Agent Requests
- For Agent A: 8 new specs ready for implementation:
  - `.chart-spec.md` â†’ A-3 (Chart.js theme)
  - `.streak-spec.md` â†’ A-11 (Streak counter)
  - `.timer-spec.md` â†’ Timer implementation
  - `.question-type-spec.md` â†’ A-12 (Question renderer)
  - `.responsive-spec.md` â†’ Responsive CSS in shared/styles.css
  - `.print-spec.md` â†’ A-4 (shared/print.css)
  - `.arena-mode-spec.md` â†’ Dark mode (P3, defer)
  - `.accessibility-spec.md` â†’ P0 items during CSS extraction, P1 during migration
- For Agent R: Question type schema in `.question-type-spec.md` Â§7 â€” align `data/questions.json` `type` field
- For Agent F: Testing checklists in `.responsive-spec.md` and `.accessibility-spec.md` â€” verification items for QA

---

## Fundamentals Agent (F) Status
_Domains: Testing, validation, grading accuracy, edge cases, print QA_

> **Executive Summary:** F-1 complete. Auto-grading audit on index.html and index_calc.html done â€” 52 tests pass. Confirmed 2 blocker math errors (B-1/B-13 already filed by P) and identified 4 grading-logic issues. Test suite at `tests/f-validation/grading-audit.test.js`.

### Completed
- [x] F-1: Audit auto-grading logic in `index.html` and `index_calc.html` â€” DONE âœ…
  - Confirmed B-1 (Q16b: 14636.56â†’14616.18) and B-13 (Q6d: 62â†’66)
  - Found: `$` prefix â†’ NaN, comma truncation, 7 false-positive keyword patterns, equivalent-form rejection
  - Test suite: `tests/f-validation/grading-audit.test.js` (52 tests, all pass)
- [x] F-2: Write validation tests â€” DONE âœ… `tests/f-validation/answer-validation.test.js` (80 tests, all pass)
- [x] F-4: Save/load localStorage audit â€” DONE âœ… `tests/f-validation/save-load-audit.test.js`
  - ğŸ”´ B-F3: 4 files share "algebra2TestResults" key â€” data overwrite bug
  - 10/11 files lack try/catch on JSON.parse â€” corrupted data crashes silently
  - Two save formats (flat vs nested) â€” shared/scripts.js handles both

### In Progress

### Backlog
- [ ] F-3: Test print layout on all 12 files (Chrome, Safari, Firefox)
- [ ] F-4: Test save/load (localStorage) round-trip on all 7 files that support it
- [ ] F-5: Test Chart.js rendering on all 7 files with charts
- [ ] F-6: Test mobile layout at 375px, 768px, 1024px breakpoints
- [ ] F-7: Write regression tests for grading engine (prevent wrong answers from being accepted)
- [ ] F-8: Test KaTeX rendering after migration (all equations display correctly)
- [ ] F-9: Cross-browser testing (Chrome, Safari, Firefox, Edge)
- [ ] F-10: Question bank JSON schema validation tests
- [ ] F-11: Dashboard data integrity tests (scores match actual test results)
- [ ] F-12: Test offline mode â€” CDN failures should not break the app

### Findings (from F-1 audit)
- ğŸ”´ Q6d answer=62, correct=66 â€” confirms B-13
- ğŸ”´ Q16b answer=14636.56, correct=14616.18 â€” confirms B-1
- ğŸŸ¡ `parseFloat("$33")` = NaN â€” dollar prefix causes correct answers to be marked wrong
- ğŸŸ¡ `parseFloat("5,000")` = 5 â€” comma formatting causes wrong comparison
- ğŸŸ¡ 4-char prefix keyword match too loose â€” "decade"â†’decay, "baseball"â†’base, "initiative"â†’initial, etc. (7 patterns)
- ğŸŸ¡ Equivalent math expressions rejected â€” "y=10+25x" rejected when "y=25x+10" expected

### Cross-Agent Requests
- For Agent A: When rebuilding `check()` for shared grading engine, address: dollar-sign stripping, comma removal, and stricter keyword matching (full word match, not 4-char prefix). See `tests/f-validation/grading-audit.test.js` for edge cases to test against.
- For Agent R: Please verify Q2a ($33), Q2b (5 devices), Q3a-d (domain/range) â€” these are graph-reading answers I cannot verify without visual chart inspection.

---

## Security Agent (S) Status
_Domains: Data integrity, progress tracking, offline-first, privacy_

> **Executive Summary:** Not yet started. Waiting for agent onboarding.

### Backlog
- [ ] S-1: Design localStorage schema for progress tracking (per-test scores, per-question history, timestamps)
- [ ] S-2: Audit existing save/load code for data corruption risks
- [ ] S-3: Design data export format (JSON backup of all progress)
- [ ] S-4: Ensure no student PII beyond first name in any file
- [ ] S-5: Offline-first audit â€” what breaks without internet? (CDN deps: KaTeX, Chart.js)
- [ ] S-6: Design migration path if localStorage schema changes
- [ ] S-7: Test data persistence across browser updates, cache clears
- [ ] S-8: Evaluate IndexedDB vs localStorage for question bank storage

### Cross-Agent Requests
_(none yet)_

---

## Platform Agent (P) Status
_Domains: Agent coordination, CI/CD, docs, repo hygiene, taskboards_

> **Executive Summary:** Active. Repo structure created, README shipped, .gitignore hardened, commit conventions documented. Foundation set for all agents.

- [x] P-1: Set up repo structure (shared/, tests/, data/, docs/ + unit subdirs) â€” DONE âœ…
- [x] P-2: Write README.md â€” DONE âœ… Project description, usage, structure, agent onboarding links
- [x] P-3: Enhance .gitignore â€” DONE âœ… Added editor files, node_modules, archives, temp files
- [x] P-4: File naming conventions â€” DONE âœ… Added Â§10b to `.agent-protocol.md` with kebab-case rules + migration mapping
- [x] P-5: Create `.marcus-queue.md` template â€” DONE âœ… (Agent D created it)
- [x] P-6: Agent onboarding verification â€” DONE âœ… Cross-doc audit complete. Fixed: added Agent I to `.agent-protocol.md` Â§1 for consistency with `.agents.md`
- [x] P-7: Define commit message conventions â€” DONE âœ… Added Â§11 to `.agent-protocol.md`
- [x] P-8: Create taskboard refresh schedule â€” DONE âœ… Added Â§8b to `.agent-protocol.md`

### Cross-Agent Requests
- For Agent A: shared/, tests/, data/ directories are ready. When you start A-1 (extract shared CSS), the folder structure is in place.
- For all agents: Commit conventions are in `.agent-protocol.md` Â§11. Use the `type(scope): description` format.

---

## Bugs

| ID | Severity | Description | File | Owner | Status |
|----|----------|-------------|------|-------|--------|
| B-1 | blocker | Q16b grading: 28000Ã—0.85â´ = 14616.18, not 14636.56 | index.html | A | open |
| B-2 | blocker | Q9 grading answers from wrong test (data plan vs inverse function) | index.html | A | open |
| B-3 | blocker | Q10 grading answers from wrong test + references nonexistent q10b | index.html | A | open |
| B-4 | blocker | Q11 grading references nonexistent elements â€” JS crash | index.html | A | open |
| B-5 | blocker | Q12 grading answers wrong (2/38/68 not "per mile"/"base"/90) | index.html | A | open |
| B-6 | blocker | Q13 grading answers from wrong test (slope vs scatterplot) | index.html | A | open |
| B-7 | blocker | Q14 grading references nonexistent elements â€” JS crash | index.html | A | open |
| B-8 | blocker | Q1 grading references "q1" but inputs are q1a-q1e â€” JS crash | index.html | A | open |
| B-9 | blocker | Q2 grading answers 33/5 but Q2 asks for sequence types | index.html | A | open |
| B-10 | blocker | Q3 grading references q3a-q3d but inputs are q3_table1-7 â€” crash | index.html | A | open |
| B-11 | blocker | Q4 grading checks 3 values but Q4 has 13 sub-questions | index.html | A | open |
| B-12 | high | Q2-D answer key: sequence differences "9,8,9,10" should be "7,8,9,10" | index.html | A | open |
| B-13 | blocker | Q6c answer: 70+2(-2)=66Â°F, not 62Â°F. Both grading and answer key wrong | index.html | A | open |
| B-14 | blocker | Q1 answer key says -234, work shows 210. Correct is 210 | final_exam_251123.html | A | open |
| B-15 | blocker | Q5 answer key says x=-3, work shows x=-9. Correct is -9 | final_exam_251123.html | A | open |
| B-16 | blocker | Q7 answer key says x<12/13, work shows x<6/5. Correct is 6/5 | final_exam_251123.html | A | open |
| B-17 | blocker | Q6 sign error: k=(7-b-3aÂ²b)/(4-6a) should be (3aÂ²b+b-7)/(4-6a) | final_exam_251123.html | A | open |
| B-18 | blocker | Q16b: 91.125 is week 5, not week 6. P(6)â‰ˆ136.7 | final_exam_251123.html | A | open |
| B-19 | blocker | Q17b: 0.962^12â‰ˆ0.6288 giving ~$389,839, not $380,293 | final_exam_251123.html | A | open |
| B-20 | high | Q4b: headline says 10.0 hours but work shows ~10.2 | final_exam_251123.html | A | open |
| B-21 | blocker | Q6 sign error (same as full exam) | final_exam_251123_mini.html | A | open |
| B-23 | blocker | Q6d temperature: 66Â°F not 62Â°F | index_calc.html | A | open |
| B-24 | blocker | Q16b depreciation: 14616.18 not 14636.56 | index_calc.html | A | open |
| B-F3 | high | localStorage key collision: 4 files share "algebra2TestResults" â€” saving one overwrites others | index.html, index_calc.html, final_exam*.html | S | open |

---

*Last updated: 2026-02-17 by platform-agent (P-1 thru P-7 complete, repo structure + README shipped)*

---

## Importer Agent (I) Status
_Domains: PDF import pipeline, OCR, content conversion, teacher worksheet parsing_

> **Executive Summary:** Onboarding complete. Assessing source PDFs and building import pipeline.

### Backlog
- [x] I-0: Read all onboarding docs, register as Agent I â€” DONE âœ…
- [ ] I-1: Assess source PDFs â€” inventory `Winter Tri Standards Worksheets/` and `2026011_Kai_exponents_Unit1.pdf`, determine content, page count, question types
- [ ] I-2: Build PDF text extraction pipeline â€” parse teacher worksheet into structured text
- [ ] I-3: Parse extracted text into question objects (question, answer, standard, type)
- [ ] I-4: Output parsed questions as JSON matching R-agent's `questions.json` schema
- [ ] I-5: Parse scanned exam PDF (`2026011_Kai_exponents_Unit1.pdf`) via OCR
- [ ] I-6: Generate Motor City Math HTML test from parsed worksheet content
- [ ] I-7: Cross-validate all parsed answers with Agent R before shipping

### Cross-Agent Requests
- For Agent R: Will need answer verification on all parsed content before it ships. Math accuracy is non-negotiable.
- For Agent A: Will need the HTML test template format to generate output tests.

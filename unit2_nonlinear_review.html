<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Algebra 2: Nonlinear Functions Review</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body,{delimiters:[{left:'\\(',right:'\\)',display:false},{left:'\\[',right:'\\]',display:true}]});"></script>
    <link rel="stylesheet" href="shared/styles.css">
    <link rel="stylesheet" href="shared/print.css">
    <style>
        .section-divider {
            text-align: center;
            margin: 40px 0 30px;
            padding: 15px;
            background: #f0f4ff;
            border: 2px solid #C8102E;
            color: #C8102E;
            font-weight: 600;
            font-size: 1.2em;
            letter-spacing: 0.5px;
        }

        .graph-note {
            background: #f0f4ff;
            padding: 12px 15px;
            border-radius: 8px;
            border: 2px solid #C8102E;
            margin-bottom: 15px;
            font-size: 0.95em;
            color: #C8102E;
            font-weight: 600;
        }

        .verify-note {
            color: #E8A317;
            font-size: 0.85em;
            font-weight: 600;
        }

        @media print {
            .section-divider {
                border: 2px solid #000 !important;
                background: white !important;
                color: #000 !important;
            }

            .graph-note {
                border: 1px solid #000 !important;
                background: white !important;
                color: #000 !important;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Algebra 2: Nonlinear Functions Review</h1>
            <div class="subtitle">Unit 2 Â· Standards W2 &amp; W3 Â· 26 Questions</div>
        </header>

        <form id="testForm">

            <!-- ======== SECTION: Transformation Identification (Q1-Q4) ======== -->
            <div class="section-divider">Section A â€” Identify Parent Functions &amp; Transformations (Q1â€“Q6)</div>

            <!-- Question 1 -->
            <div class="question-card">
                <div class="question-number">Question 1</div>
                <div class="question-text">
                    Identify the parent function and describe the transformations. Then sketch a graph (on paper). Label at least two points.
                    <br><br>
                    \(f(x) = -(x+2)^3\)
                </div>
                <div class="input-group">
                    <label>Parent Function:</label>
                    <input type="text" id="q1_parent" placeholder="e.g. y = xÂ³">
                </div>
                <div class="input-group">
                    <label>Transformations:</label>
                    <textarea id="q1_transformations" placeholder="Describe each transformation..."></textarea>
                </div>
            </div>
            <div class="answer-feedback" id="feedback1"></div>

            <!-- Question 2 -->
            <div class="question-card">
                <div class="question-number">Question 2</div>
                <div class="question-text">
                    Identify the parent function and describe the transformations. Then sketch a graph (on paper). Label at least two points.
                    <br><br>
                    \(f(x) = 3\sqrt{x} - 1\)
                </div>
                <div class="input-group">
                    <label>Parent Function:</label>
                    <input type="text" id="q2_parent" placeholder="e.g. y = âˆšx">
                </div>
                <div class="input-group">
                    <label>Transformations:</label>
                    <textarea id="q2_transformations" placeholder="Describe each transformation..."></textarea>
                </div>
            </div>
            <div class="answer-feedback" id="feedback2"></div>

            <!-- Question 3 -->
            <div class="question-card">
                <div class="question-number">Question 3</div>
                <div class="question-text">
                    Identify the parent function and describe the transformations. Then sketch a graph (on paper). Label at least two points.
                    <br><br>
                    \(f(x) = \frac{1}{x-4} - 1\)
                </div>
                <div class="input-group">
                    <label>Parent Function:</label>
                    <input type="text" id="q3_parent" placeholder="e.g. y = 1/x">
                </div>
                <div class="input-group">
                    <label>Transformations:</label>
                    <textarea id="q3_transformations" placeholder="Describe each transformation..."></textarea>
                </div>
            </div>
            <div class="answer-feedback" id="feedback3"></div>

            <!-- Question 4 -->
            <div class="question-card">
                <div class="question-number">Question 4</div>
                <div class="question-text">
                    Identify the parent function and describe the transformations. Then sketch a graph (on paper). Label at least two points.
                    <br><br>
                    \(f(x) = \sqrt{-x}\)
                </div>
                <div class="input-group">
                    <label>Parent Function:</label>
                    <input type="text" id="q4_parent" placeholder="e.g. y = âˆšx">
                </div>
                <div class="input-group">
                    <label>Transformations:</label>
                    <textarea id="q4_transformations" placeholder="Describe each transformation..."></textarea>
                </div>
            </div>
            <div class="answer-feedback" id="feedback4"></div>

            <!-- Question 5 (detailed) -->
            <div class="question-card">
                <div class="question-number">Question 5</div>
                <div class="question-text">
                    Identify the parent function and describe the transformations. Draw an accurate graph (on paper). Write the domain and range. Set up a table of values and label at least three points. Find the x-intercepts.
                    <br><br>
                    \(f(x) = \frac{1}{2}|x - 1| - 2\)
                </div>
                <div class="input-group">
                    <label>Parent Function:</label>
                    <input type="text" id="q5_parent" placeholder="e.g. y = |x|">
                </div>
                <div class="input-group">
                    <label>Transformations:</label>
                    <textarea id="q5_transformations" placeholder="Describe each transformation..."></textarea>
                </div>
                <div class="input-group">
                    <label>Domain:</label>
                    <input type="text" id="q5_domain" placeholder="e.g. (-âˆž, âˆž)">
                </div>
                <div class="input-group">
                    <label>Range:</label>
                    <input type="text" id="q5_range" placeholder="e.g. [-2, âˆž)">
                </div>
                <div class="input-group">
                    <label>x-Intercepts:</label>
                    <input type="text" id="q5_xintercepts" placeholder="Find where f(x) = 0">
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work (table of values, intercept calculations):</span>
                    <textarea id="work5" placeholder="Show your calculations..."></textarea>
                </div>
            </div>
            <div class="answer-feedback" id="feedback5"></div>

            <!-- Question 6 (detailed) -->
            <div class="question-card">
                <div class="question-number">Question 6</div>
                <div class="question-text">
                    Identify the parent function and describe the transformations. Draw an accurate graph (on paper). Write the domain and range. Set up a table of values and label at least three points. Find the x-intercepts.
                    <br><br>
                    \(f(x) = -2(x+2)^2 + 5\)
                </div>
                <div class="input-group">
                    <label>Parent Function:</label>
                    <input type="text" id="q6_parent" placeholder="e.g. y = xÂ²">
                </div>
                <div class="input-group">
                    <label>Transformations:</label>
                    <textarea id="q6_transformations" placeholder="Describe each transformation..."></textarea>
                </div>
                <div class="input-group">
                    <label>Domain:</label>
                    <input type="text" id="q6_domain" placeholder="e.g. (-âˆž, âˆž)">
                </div>
                <div class="input-group">
                    <label>Range:</label>
                    <input type="text" id="q6_range" placeholder="e.g. (-âˆž, 5]">
                </div>
                <div class="input-group">
                    <label>x-Intercepts:</label>
                    <input type="text" id="q6_xintercepts" placeholder="Find where f(x) = 0">
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work (table of values, intercept calculations):</span>
                    <textarea id="work6" placeholder="Show your calculations..."></textarea>
                </div>
            </div>
            <div class="answer-feedback" id="feedback6"></div>

            <!-- ======== SECTION: Equation Solving (Q7-Q12) ======== -->
            <div class="section-divider">Section B â€” Solve Equations (Q7â€“Q12)</div>

            <!-- Question 7 -->
            <div class="question-card">
                <div class="question-number">Question 7</div>
                <div class="question-text">
                    Solve each equation:
                    <br><br>
                    \(3^{2x+5} = 81\)
                </div>
                <div class="input-group">
                    <label>Answer:</label>
                    <input type="text" id="q7_answer" placeholder="x = ...">
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea id="work7" placeholder="Show each step..."></textarea>
                </div>
            </div>
            <div class="answer-feedback" id="feedback7"></div>

            <!-- Question 8 -->
            <div class="question-card">
                <div class="question-number">Question 8</div>
                <div class="question-text">
                    Solve each equation:
                    <br><br>
                    \(2(3x-1)^2 + 1 = 9\)
                </div>
                <div class="input-group">
                    <label>Answer:</label>
                    <input type="text" id="q8_answer" placeholder="x = ...">
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea id="work8" placeholder="Show each step..."></textarea>
                </div>
            </div>
            <div class="answer-feedback" id="feedback8"></div>

            <!-- Question 9 -->
            <div class="question-card">
                <div class="question-number">Question 9</div>
                <div class="question-text">
                    Solve each equation:
                    <br><br>
                    \(\sqrt[5]{3x+2} = 4\)
                </div>
                <div class="input-group">
                    <label>Answer:</label>
                    <input type="text" id="q9_answer" placeholder="x = ...">
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea id="work9" placeholder="Show each step..."></textarea>
                </div>
            </div>
            <div class="answer-feedback" id="feedback9"></div>

            <!-- Question 10 -->
            <div class="question-card">
                <div class="question-number">Question 10</div>
                <div class="question-text">
                    Solve each equation:
                    <br><br>
                    \(\sqrt{5 + 4x^2} - 2 = 3\)
                </div>
                <div class="input-group">
                    <label>Answer:</label>
                    <input type="text" id="q10_answer" placeholder="x = ...">
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea id="work10" placeholder="Show each step..."></textarea>
                </div>
            </div>
            <div class="answer-feedback" id="feedback10"></div>

            <!-- Question 11 -->
            <div class="question-card">
                <div class="question-number">Question 11</div>
                <div class="question-text">
                    Solve each equation:
                    <br><br>
                    \(5 - 3(x+1)^3 = 7\)
                </div>
                <div class="input-group">
                    <label>Answer:</label>
                    <input type="text" id="q11_answer" placeholder="x = ...">
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea id="work11" placeholder="Show each step..."></textarea>
                </div>
            </div>
            <div class="answer-feedback" id="feedback11"></div>

            <!-- Question 12 -->
            <div class="question-card">
                <div class="question-number">Question 12</div>
                <div class="question-text">
                    Solve each equation:
                    <br><br>
                    \(5 \cdot 2^{x^2-3} = 80\)
                </div>
                <div class="input-group">
                    <label>Answer:</label>
                    <input type="text" id="q12_answer" placeholder="x = ...">
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea id="work12" placeholder="Show each step..."></textarea>
                </div>
            </div>
            <div class="answer-feedback" id="feedback12"></div>

            <!-- ======== SECTION: Graph to Equation (Q13-Q16) ======== -->
            <div class="section-divider">Section C â€” Write Equations from Graphs (Q13â€“Q16)</div>

            <!-- Question 13 -->
            <div class="question-card">
                <div class="question-number">Question 13</div>
                <div class="question-text">
                    Given each graph, write the parent function, the transformations that formed the graph, and then use that information to write the equation of the function shown.
                </div>
                <div class="graph-note">ðŸ“‹ Refer to the original worksheet for the graph image.</div>
                <div class="input-group">
                    <label>Parent Function:</label>
                    <input type="text" id="q13_parent" placeholder="e.g. y = xÂ²">
                </div>
                <div class="input-group">
                    <label>Transformations:</label>
                    <textarea id="q13_transformations" placeholder="Describe the transformations you see..."></textarea>
                </div>
                <div class="input-group">
                    <label>Equation:</label>
                    <input type="text" id="q13_equation" placeholder="f(x) = ...">
                </div>
            </div>
            <div class="answer-feedback" id="feedback13"></div>

            <!-- Question 14 -->
            <div class="question-card">
                <div class="question-number">Question 14</div>
                <div class="question-text">
                    Given each graph, write the parent function, the transformations that formed the graph, and then use that information to write the equation of the function shown.
                </div>
                <div class="graph-note">ðŸ“‹ Refer to the original worksheet for the graph image.</div>
                <div class="input-group">
                    <label>Parent Function:</label>
                    <input type="text" id="q14_parent" placeholder="e.g. y = |x|">
                </div>
                <div class="input-group">
                    <label>Transformations:</label>
                    <textarea id="q14_transformations" placeholder="Describe the transformations you see..."></textarea>
                </div>
                <div class="input-group">
                    <label>Equation:</label>
                    <input type="text" id="q14_equation" placeholder="f(x) = ...">
                </div>
            </div>
            <div class="answer-feedback" id="feedback14"></div>

            <!-- Question 15 -->
            <div class="question-card">
                <div class="question-number">Question 15</div>
                <div class="question-text">
                    Given each graph, write the parent function, the transformations that formed the graph, and then use that information to write the equation of the function shown.
                </div>
                <div class="graph-note">ðŸ“‹ Refer to the original worksheet for the graph image.</div>
                <div class="input-group">
                    <label>Parent Function:</label>
                    <input type="text" id="q15_parent" placeholder="e.g. y = âˆšx">
                </div>
                <div class="input-group">
                    <label>Transformations:</label>
                    <textarea id="q15_transformations" placeholder="Describe the transformations you see..."></textarea>
                </div>
                <div class="input-group">
                    <label>Equation:</label>
                    <input type="text" id="q15_equation" placeholder="f(x) = ...">
                </div>
            </div>
            <div class="answer-feedback" id="feedback15"></div>

            <!-- Question 16 -->
            <div class="question-card">
                <div class="question-number">Question 16</div>
                <div class="question-text">
                    Given each graph, write the parent function, the transformations that formed the graph, and then use that information to write the equation of the function shown.
                </div>
                <div class="graph-note">ðŸ“‹ Refer to the original worksheet for the graph image.</div>
                <div class="input-group">
                    <label>Parent Function:</label>
                    <input type="text" id="q16_parent" placeholder="e.g. y = 1/x">
                </div>
                <div class="input-group">
                    <label>Transformations:</label>
                    <textarea id="q16_transformations" placeholder="Describe the transformations you see..."></textarea>
                </div>
                <div class="input-group">
                    <label>Equation:</label>
                    <input type="text" id="q16_equation" placeholder="f(x) = ...">
                </div>
            </div>
            <div class="answer-feedback" id="feedback16"></div>

            <!-- ======== SECTION: Equation Solving (Q17-Q22) ======== -->
            <div class="section-divider">Section D â€” Solve Equations (Q17â€“Q22)</div>

            <!-- Question 17 -->
            <div class="question-card">
                <div class="question-number">Question 17</div>
                <div class="question-text">
                    Solve each equation:
                    <br><br>
                    \(3^{5-x} - 1 = 0\)
                </div>
                <div class="input-group">
                    <label>Answer:</label>
                    <input type="text" id="q17_answer" placeholder="x = ...">
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea id="work17" placeholder="Show each step..."></textarea>
                </div>
            </div>
            <div class="answer-feedback" id="feedback17"></div>

            <!-- Question 18 -->
            <div class="question-card">
                <div class="question-number">Question 18</div>
                <div class="question-text">
                    Solve each equation:
                    <br><br>
                    \(2 - 3\sqrt{x} = 4\)
                </div>
                <div class="input-group">
                    <label>Answer:</label>
                    <input type="text" id="q18_answer" placeholder="x = ...">
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea id="work18" placeholder="Show each step..."></textarea>
                </div>
            </div>
            <div class="answer-feedback" id="feedback18"></div>

            <!-- Question 19 -->
            <div class="question-card">
                <div class="question-number">Question 19</div>
                <div class="question-text">
                    Solve each equation:
                    <br><br>
                    \(\frac{6x-1}{2x-3} = 5\)
                </div>
                <div class="input-group">
                    <label>Answer:</label>
                    <input type="text" id="q19_answer" placeholder="x = ...">
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea id="work19" placeholder="Show each step..."></textarea>
                </div>
            </div>
            <div class="answer-feedback" id="feedback19"></div>

            <!-- Question 20 -->
            <div class="question-card">
                <div class="question-number">Question 20</div>
                <div class="question-text">
                    Solve each equation:
                    <br><br>
                    \(\sqrt[3]{\frac{2}{x-1}} = -4\)
                </div>
                <div class="input-group">
                    <label>Answer:</label>
                    <input type="text" id="q20_answer" placeholder="x = ...">
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea id="work20" placeholder="Show each step..."></textarea>
                </div>
            </div>
            <div class="answer-feedback" id="feedback20"></div>

            <!-- Question 21 -->
            <div class="question-card">
                <div class="question-number">Question 21</div>
                <div class="question-text">
                    Solve each equation:
                    <br><br>
                    \(\sqrt{2x+1} = \sqrt{3-x}\)
                </div>
                <div class="input-group">
                    <label>Answer:</label>
                    <input type="text" id="q21_answer" placeholder="x = ...">
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea id="work21" placeholder="Show each step..."></textarea>
                </div>
            </div>
            <div class="answer-feedback" id="feedback21"></div>

            <!-- Question 22 -->
            <div class="question-card">
                <div class="question-number">Question 22</div>
                <div class="question-text">
                    Solve each equation:
                    <br><br>
                    \(3x^{2/3} - 1 = 107\)
                </div>
                <div class="input-group">
                    <label>Answer:</label>
                    <input type="text" id="q22_answer" placeholder="x = ...">
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea id="work22" placeholder="Show each step..."></textarea>
                </div>
            </div>
            <div class="answer-feedback" id="feedback22"></div>

            <!-- ======== SECTION: Capstone / Word Problems (Q23-Q26) ======== -->
            <div class="section-divider">Section E â€” Capstone &amp; Word Problems (Q23â€“Q26)</div>

            <!-- Question 23 -->
            <div class="question-card">
                <div class="question-number">Question 23 â€” Formula Rearrangement</div>
                <div class="question-text">
                    The gravitational force \(F\) between two bodies of mass \(m_1\) and \(m_2\) is given by Newton's Law of Universal Gravitation:
                    <br><br>
                    \(F = G \cdot \frac{m_1 m_2}{r^2}\)
                    <br><br>
                    Where \(G\) is a universal constant. Rearrange the equation to find \(r\) in terms of the other quantities.
                </div>
                <div class="input-group">
                    <label>Answer (r = â€¦):</label>
                    <input type="text" id="q23_answer" placeholder="r = ...">
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea id="work23" placeholder="Show each algebraic step..."></textarea>
                </div>
            </div>
            <div class="answer-feedback" id="feedback23"></div>

            <!-- Question 24 -->
            <div class="question-card">
                <div class="question-number">Question 24 â€” Formula Rearrangement</div>
                <div class="question-text">
                    When a block of mass \(m\) is connected to a spring, it can be set into simple harmonic motion. The period is given by:
                    <br><br>
                    \(T = 2\pi\sqrt{\frac{m}{k}}\)
                    <br><br>
                    Rearrange to isolate mass \(m\).
                </div>
                <div class="input-group">
                    <label>Answer (m = â€¦):</label>
                    <input type="text" id="q24_answer" placeholder="m = ...">
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea id="work24" placeholder="Show each algebraic step..."></textarea>
                </div>
            </div>
            <div class="answer-feedback" id="feedback24"></div>

            <!-- Question 25 -->
            <div class="question-card">
                <div class="question-number">Question 25 â€” Word Problem (Exponential)</div>
                <div class="question-text">
                    Gray wolves were reintroduced to Yellowstone in 1995â€“1996 with about 40 wolves. The population doubled every 10 years.
                </div>
                <div class="input-group">
                    <label>a) Write a model for the number of wolves after \(t\) years:</label>
                    <input type="text" id="q25a_answer" placeholder="P(t) = ...">
                </div>
                <div class="input-group">
                    <label>b) How long would it take for the wolf population to reach 1280?</label>
                    <input type="text" id="q25b_answer" placeholder="t = ... years">
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea id="work25" placeholder="Show your model setup and solving steps..."></textarea>
                </div>
            </div>
            <div class="answer-feedback" id="feedback25"></div>

            <!-- Question 26 -->
            <div class="question-card">
                <div class="question-number">Question 26 â€” Comprehensive Analysis</div>
                <div class="question-text">
                    Consider the function defined by:
                    <br><br>
                    \(f(x) = \frac{2}{(x-3)^2} + 1\)
                </div>
                <div class="input-group">
                    <label>a) What is the parent function?</label>
                    <input type="text" id="q26a_answer" placeholder="y = ...">
                </div>
                <div class="input-group">
                    <label>b) What are the transformations from the parent function?</label>
                    <textarea id="q26b_answer" placeholder="Describe each transformation..."></textarea>
                </div>
                <div class="input-group">
                    <label>c) Write the equations of the vertical and horizontal asymptotes:</label>
                    <input type="text" id="q26c_answer" placeholder="Vertical: x = ..., Horizontal: y = ...">
                </div>
                <div class="input-group">
                    <label>d) Find the x-intercept(s):</label>
                    <input type="text" id="q26d_answer" placeholder="x = ... or No real solution">
                </div>
                <div class="input-group">
                    <label>e) Construct a table of values for at least three values:</label>
                    <textarea id="q26e_answer" placeholder="x | f(x)&#10;---|---&#10;  |  "></textarea>
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea id="work26" placeholder="Show calculations for intercepts and table values..."></textarea>
                </div>
            </div>
            <div class="answer-feedback" id="feedback26"></div>

            <button type="button" class="print-btn" onclick="printTest()">Print Version (Black &amp; White)</button>
            <button type="button" class="submit-btn" onclick="gradeNonlinearReview()">Submit Test</button>
            <button type="button" class="answer-key-btn" onclick="showReviewAnswerKey()">View Answer Key</button>
            <button type="button" class="btn-secondary" onclick="saveResults('mcm-unit2-nonlinear-review')">Save Results</button>
            <button type="button" class="btn-ghost" onclick="loadResults('mcm-unit2-nonlinear-review')">Load Saved Results</button>
        </form>
        <div class="result" id="finalResult"></div>
    </div>

    <!-- Answer Key Modal -->
    <div id="answerKeyModal" class="answer-key-modal">
        <div class="answer-key-content">
            <button class="close-modal" onclick="closeAnswerKey()">Ã—</button>
            <h2 class="answer-key-title">Answer Key</h2>
            <div id="answerKeyBody"></div>
        </div>
    </div>

    <script src="shared/scripts.js"></script>
    <script>
        function gradeNonlinearReview() {
            gradeTest({
                questions: [
                    [[['q1_parent', 'y=x^3']], 'feedback1'],
                    [[['q2_parent', 'y=sqrt(x)']], 'feedback2'],
                    [[['q3_parent', 'y=1/x']], 'feedback3'],
                    [[['q4_parent', 'y=sqrt(x)']], 'feedback4'],
                    [[['q5_parent', 'y=|x|'], ['q5_domain', '(-inf,inf)'], ['q5_xintercepts', '5,-3']], 'feedback5'],
                    [[['q6_parent', 'y=x^2'], ['q6_domain', '(-inf,inf)']], 'feedback6'],
                    [[['q7_answer', -0.5, 0.1]], 'feedback7'],
                    [[['q8_answer', '1,-1/3']], 'feedback8'],
                    [[['q9_answer', 340.67, 0.5]], 'feedback9'],
                    [[['q10_answer', 'sqrt(5),-sqrt(5)']], 'feedback10'],
                    [[['q11_answer', '-1+cbrt(-2/3)']], 'feedback11'],
                    [[['q12_answer', 'sqrt(7),-sqrt(7)']], 'feedback12'],
                    [[['q17_answer', 5]], 'feedback17'],
                    [[['q18_answer', 'no real solution']], 'feedback18'],
                    [[['q19_answer', 3.5, 0.1]], 'feedback19'],
                    [[['q20_answer', 0.96875, 0.02]], 'feedback20'],
                    [[['q21_answer', '2/3']], 'feedback21'],
                    [[['q22_answer', 216]], 'feedback22'],
                    [[['q23_answer', 'sqrt(Gm1m2/F)']], 'feedback23'],
                    [[['q24_answer', 'kT^2/(4pi^2)']], 'feedback24'],
                    [[['q25a_answer', '40*2^(t/10)'], ['q25b_answer', 50]], 'feedback25'],
                    [[['q26a_answer', 'y=1/x^2'], ['q26c_answer', 'x=3,y=1'], ['q26d_answer', 'no real solution']], 'feedback26']
                ],
                standards: [
                    {id: 'W2.b', name: 'Identify transformations'},
                    {id: 'W2.b', name: 'Identify transformations'},
                    {id: 'W2.b', name: 'Identify transformations'},
                    {id: 'W2.b', name: 'Identify transformations'},
                    {id: 'W2.e', name: 'Function characteristics'},
                    {id: 'W2.e', name: 'Function characteristics'},
                    {id: 'W3.d', name: 'Exponential one-to-one'},
                    {id: 'W3.b', name: 'Solve nonlinear equations'},
                    {id: 'W3.b', name: 'Solve nonlinear equations'},
                    {id: 'W3.b', name: 'Solve nonlinear equations'},
                    {id: 'W3.b', name: 'Solve nonlinear equations'},
                    {id: 'W3.d', name: 'Exponential one-to-one'},
                    {id: 'W3.d', name: 'Exponential one-to-one'},
                    {id: 'W3.e', name: 'Extraneous solutions'},
                    {id: 'W3.c', name: 'Solve rational equations'},
                    {id: 'W3.b', name: 'Solve nonlinear equations'},
                    {id: 'W3.b', name: 'Solve nonlinear equations'},
                    {id: 'W3.b', name: 'Solve nonlinear equations'},
                    {id: 'W3.b', name: 'Solve nonlinear equations'},
                    {id: 'W3.b', name: 'Solve nonlinear equations'},
                    {id: '5.a', name: 'Exponential models'},
                    {id: 'W2.e', name: 'Function characteristics'}
                ],
                feedbacks: [
                    ['\u2713 y = x\u00b3 \u2014 cubic parent correct', '\u2717 Parent is y = x\u00b3 (cubic)'],
                    ['\u2713 y = \u221ax \u2014 square root parent', '\u2717 Parent is y = \u221ax (square root)'],
                    ['\u2713 y = 1/x \u2014 reciprocal parent', '\u2717 Parent is y = 1/x (reciprocal)'],
                    ['\u2713 y = \u221ax \u2014 square root parent', '\u2717 Parent is y = \u221ax (square root)'],
                    ['\u2713 y = |x| \u2014 absolute value', '\u2717 Parent is y = |x|', '\u2713 Domain: all reals', '\u2717 Domain is (-\u221e, \u221e)', '\u2713 x-intercepts: 5 and -3', '\u2717 Set (1/2)|x-1| - 2 = 0'],
                    ['\u2713 y = x\u00b2 \u2014 quadratic parent', '\u2717 Parent is y = x\u00b2', '\u2713 Domain: all reals', '\u2717 Domain is (-\u221e, \u221e)'],
                    ['\u2713 x = -1/2 \u2014 exponential solve clean', '\u2717 3\u2074 = 81, so 2x+5 = 4, x = -1/2'],
                    ['\u2713 x = 1 or x = -1/3', '\u2717 (3x-1)\u00b2 = 4, so 3x-1 = \u00b12'],
                    ['\u2713 x = 1022/3 \u2248 340.67', '\u2717 Raise to 5th power: 3x+2 = 1024'],
                    ['\u2713 x = \u00b1\u221a5 \u2014 both solutions', '\u2717 Isolate radical, square: x\u00b2 = 5'],
                    ['\u2713 Cube root solution correct', '\u2717 (x+1)\u00b3 = -2/3, cube root both sides'],
                    ['\u2713 x = \u00b1\u221a7 \u2014 exponential solve', '\u2717 2^(x\u00b2-3) = 16 = 2\u2074, so x\u00b2 = 7'],
                    ['\u2713 x = 5 \u2014 locked in', '\u2717 3^(5-x) = 1 = 3\u2070, so 5-x = 0'],
                    ['\u2713 No real solution \u2014 sharp catch', '\u2717 \u221ax cannot be negative'],
                    ['\u2713 x = 7/2 \u2014 rational equation clean', '\u2717 Cross-multiply: 6x-1 = 10x-15'],
                    ['\u2713 x = 31/32 \u2014 cube root solve', '\u2717 Cube both sides: 2/(x-1) = -64'],
                    ['\u2713 x = 2/3 \u2014 radical equation', '\u2717 Square both sides: 2x+1 = 3-x'],
                    ['\u2713 x = 216 \u2014 fractional exponent', '\u2717 x^(2/3) = 36, x = 36^(3/2) = 216'],
                    ['\u2713 r = \u221a(Gm\u2081m\u2082/F) \u2014 rearranged', '\u2717 Isolate r\u00b2, take square root'],
                    ['\u2713 m = kT\u00b2/(4\u03c0\u00b2) \u2014 clean algebra', '\u2717 Divide by 2\u03c0, square, multiply by k'],
                    ['\u2713 P(t) = 40\u00b72^(t/10) \u2014 model correct', '\u2717 Starts at 40, doubles every 10 years', '\u2713 t = 50 years \u2014 perfect', '\u2717 2^(t/10) = 32 = 2\u2075, t = 50'],
                    ['\u2713 y = 1/x\u00b2 \u2014 parent identified', '\u2717 Parent function is y = 1/x\u00b2', '\u2713 Asymptotes: x=3, y=1', '\u2717 Vertical: x = 3, Horizontal: y = 1', '\u2713 No real x-intercept \u2014 correct', '\u2717 2/(x-3)\u00b2 + 1 = 0 has no real solution']
                ],
                storageKey: 'nonlinear_review'
            });
        }

        function showReviewAnswerKey() {
            const answerKeyHTML = `
                <div class="answer-item"><strong>Q1 â€” \\(f(x) = -(x+2)^3\\)</strong><br>
                Parent: \\(y = x^3\\) (cubic)<br>
                Transformations: Reflection over x-axis, horizontal shift left 2</div>

                <div class="answer-item"><strong>Q2 â€” \\(f(x) = 3\\sqrt{x} - 1\\)</strong><br>
                Parent: \\(y = \\sqrt{x}\\) (square root)<br>
                Transformations: Vertical stretch by 3, vertical shift down 1</div>

                <div class="answer-item"><strong>Q3 â€” \\(f(x) = \\frac{1}{x-4} - 1\\)</strong><br>
                Parent: \\(y = \\frac{1}{x}\\) (reciprocal)<br>
                Transformations: Horizontal shift right 4, vertical shift down 1</div>

                <div class="answer-item"><strong>Q4 â€” \\(f(x) = \\sqrt{-x}\\)</strong><br>
                Parent: \\(y = \\sqrt{x}\\) (square root)<br>
                Transformations: Reflection over y-axis</div>

                <div class="answer-item"><strong>Q5 â€” \\(f(x) = \\frac{1}{2}|x - 1| - 2\\)</strong><br>
                Parent: \\(y = |x|\\) (absolute value)<br>
                Transformations: Vertical compression by Â½, horizontal shift right 1, vertical shift down 2<br>
                Domain: All real numbers \\((-\\infty, \\infty)\\)<br>
                Range: \\(y \\geq -2\\), i.e. \\([-2, \\infty)\\)<br>
                x-Intercepts: Set \\(\\frac{1}{2}|x-1| - 2 = 0 \\Rightarrow |x-1| = 4 \\Rightarrow x = 5\\) or \\(x = -3\\)</div>

                <div class="answer-item"><strong>Q6 â€” \\(f(x) = -2(x+2)^2 + 5\\)</strong><br>
                Parent: \\(y = x^2\\) (quadratic)<br>
                Transformations: Reflection over x-axis, vertical stretch by 2, horizontal shift left 2, vertical shift up 5<br>
                Domain: All real numbers \\((-\\infty, \\infty)\\)<br>
                Range: \\(y \\leq 5\\), i.e. \\((-\\infty, 5]\\)<br>
                x-Intercepts: Set \\(-2(x+2)^2 + 5 = 0 \\Rightarrow (x+2)^2 = \\frac{5}{2} \\Rightarrow x = -2 \\pm \\sqrt{\\frac{5}{2}}\\)</div>

                <div class="answer-item"><strong>Q7 â€” \\(3^{2x+5} = 81\\)</strong><br>
                \\(81 = 3^4\\), so \\(2x+5 = 4\\), thus \\(x = -\\frac{1}{2}\\)</div>

                <div class="answer-item"><strong>Q8 â€” \\(2(3x-1)^2 + 1 = 9\\)</strong><br>
                \\((3x-1)^2 = 4\\), \\(3x-1 = \\pm 2\\)<br>
                \\(x = 1\\) or \\(x = -\\frac{1}{3}\\)</div>

                <div class="answer-item"><strong>Q9 â€” \\(\\sqrt[5]{3x+2} = 4\\)</strong><br>
                \\(3x+2 = 4^5 = 1024\\), \\(x = \\frac{1022}{3} \\approx 340.67\\)</div>

                <div class="answer-item"><strong>Q10 â€” \\(\\sqrt{5 + 4x^2} - 2 = 3\\)</strong><br>
                \\(\\sqrt{5+4x^2} = 5\\), \\(5+4x^2 = 25\\), \\(x^2 = 5\\), \\(x = \\pm\\sqrt{5}\\)</div>

                <div class="answer-item"><strong>Q11 â€” \\(5 - 3(x+1)^3 = 7\\)</strong><br>
                \\(-3(x+1)^3 = 2\\), \\((x+1)^3 = -\\frac{2}{3}\\)<br>
                \\(x = -1 + \\sqrt[3]{-\\frac{2}{3}}\\)</div>

                <div class="answer-item"><strong>Q12 â€” \\(5 \\cdot 2^{x^2-3} = 80\\)</strong><br>
                \\(2^{x^2-3} = 16 = 2^4\\), \\(x^2 - 3 = 4\\), \\(x^2 = 7\\)<br>
                \\(x = \\pm\\sqrt{7}\\)</div>

                <div class="answer-item"><strong>Q13â€“Q16 â€” Graph-to-Equation</strong><br>
                Answers require the original worksheet graphs. Identify parent function, describe transformations, and write the equation.</div>

                <div class="answer-item"><strong>Q17 â€” \\(3^{5-x} - 1 = 0\\)</strong><br>
                \\(3^{5-x} = 1 = 3^0\\), \\(5-x = 0\\), \\(x = 5\\)</div>

                <div class="answer-item"><strong>Q18 â€” \\(2 - 3\\sqrt{x} = 4\\)</strong><br>
                \\(-3\\sqrt{x} = 2\\), \\(\\sqrt{x} = -\\frac{2}{3}\\) â€” <strong>No real solution</strong> (\\(\\sqrt{x} \\geq 0\\))</div>

                <div class="answer-item"><strong>Q19 â€” \\(\\frac{6x-1}{2x-3} = 5\\)</strong><br>
                \\(6x-1 = 5(2x-3)\\), \\(6x-1 = 10x-15\\), \\(14 = 4x\\)<br>
                \\(x = \\frac{7}{2}\\)</div>

                <div class="answer-item"><strong>Q20 â€” \\(\\sqrt[3]{\\frac{2}{x-1}} = -4\\)</strong><br>
                Cube both sides: \\(\\frac{2}{x-1} = (-4)^3 = -64\\)<br>
                \\(x - 1 = \\frac{2}{-64} = -\\frac{1}{32}\\)<br>
                <strong>\\(x = \\frac{31}{32}\\)</strong></div>

                <div class="answer-item"><strong>Q21 â€” \\(\\sqrt{2x+1} = \\sqrt{3-x}\\)</strong><br>
                \\(2x+1 = 3-x\\), \\(3x = 2\\), \\(x = \\frac{2}{3}\\)<br>
                Check: \\(\\sqrt{\\frac{7}{3}} = \\sqrt{\\frac{7}{3}}\\) âœ“</div>

                <div class="answer-item"><strong>Q22 â€” \\(3x^{2/3} - 1 = 107\\)</strong><br>
                \\(3x^{2/3} = 108\\), \\(x^{2/3} = 36\\), \\(x = 36^{3/2} = 216\\)</div>

                <div class="answer-item"><strong>Q23 â€” Newton's Law Rearrangement</strong><br>
                \\(r^2 = \\frac{G \\cdot m_1 m_2}{F}\\), so \\(r = \\sqrt{\\frac{G m_1 m_2}{F}}\\)</div>

                <div class="answer-item"><strong>Q24 â€” Spring Period Rearrangement</strong><br>
                \\(\\frac{T}{2\\pi} = \\sqrt{\\frac{m}{k}}\\), \\(\\left(\\frac{T}{2\\pi}\\right)^2 = \\frac{m}{k}\\)<br>
                \\(m = \\frac{kT^2}{4\\pi^2}\\)</div>

                <div class="answer-item"><strong>Q25 â€” Yellowstone Wolves</strong><br>
                a) \\(P(t) = 40 \\cdot 2^{t/10}\\)<br>
                b) \\(40 \\cdot 2^{t/10} = 1280\\), \\(2^{t/10} = 32 = 2^5\\), \\(t = 50\\) years</div>

                <div class="answer-item"><strong>Q26 â€” \\(f(x) = \\frac{2}{(x-3)^2} + 1\\)</strong><br>
                a) Parent: \\(y = \\frac{1}{x^2}\\)<br>
                b) Horizontal shift right 3, vertical stretch by 2, vertical shift up 1<br>
                c) Vertical asymptote: \\(x = 3\\), Horizontal asymptote: \\(y = 1\\)<br>
                d) \\(\\frac{2}{(x-3)^2} + 1 = 0 \\Rightarrow \\frac{2}{(x-3)^2} = -1\\) â€” <strong>No real solution</strong> (left side always positive)</div>
            `;
            showAnswerKey(answerKeyHTML, function() {
                if (window.renderMathInElement) {
                    renderMathInElement(document.getElementById('answerKeyBody'), {
                        delimiters: [{left: '\\(', right: '\\)', display: false}, {left: '\\[', right: '\\]', display: true}]
                    });
                }
            });
        }
    </script>
</body>
</html>

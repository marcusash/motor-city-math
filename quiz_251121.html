<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/svg+xml" href="shared/favicon.svg">
    <title>Algebra 2 - Linear & Exponential Functions Quiz</title>
    <script src="shared/chart.min.js"></script>
    <script>if(typeof Chart==="undefined"){var s=document.createElement("script");s.src="https://cdn.jsdelivr.net/npm/chart.js";document.head.appendChild(s);}</script>
    <script src="shared/chart-theme.js"></script>
    <link rel="stylesheet" href="shared/styles.css">
    <link rel="stylesheet" href="shared/print.css">
    <style>
        /* File-specific: interactive canvas styling */
        canvas {
            border: 1px solid #ddd;
            cursor: crosshair;
        }
    </style>
</head>
<body>
    <a href="#main" class="sr-only">Skip to content</a>
    <div class="container" role="main" id="main">
        <div class="print-header">
            <strong>Algebra 2 Practice Quiz</strong><br>
            Name: _____________________ Date: ___________
        </div>
        <header>
            <h1>Algebra 2 Practice Quiz</h1>
            <div class="subtitle">Linear & Exponential Function Word Problems (30-35 minutes)</div>
            <div style="margin-top: 20px; padding: 15px; background: var(--bg-highlight); border-radius: 10px; border: 2px solid #C8102E;">
                <strong>Focus Areas:</strong>
                <ul style="margin: 10px 0 0 0; padding: 0; list-style: none; column-count: 2; column-gap: 30px; text-align: center;">
                    <li style="margin-bottom: 5px;">• Writing linear functions from word problems</li>
                    <li style="margin-bottom: 5px;">• Graphing linear functions</li>
                    <li style="margin-bottom: 5px;">• Understanding exponential decay</li>
                    <li style="margin-bottom: 5px;">• Finding inverse functions from graphs</li>
                </ul>
            </div>
        </header>

        <form id="testForm">
            <!-- Question 1: Coffee Shop Gift Card (Linear Function) -->
            <div class="question-card">
                <div class="question-number">Question 1</div>
                <div class="question-text">
                    Mike receives a $75 coffee shop gift card for his birthday. Each week, he buys coffee and uses $6.25 from his card.
                    <br><br>
                    <strong>a)</strong> Write a function <span class="math-notation">C(w)</span> for the balance <span class="math-notation">C</span> remaining (in dollars) after <span class="math-notation">w</span> weeks.
                    <br><br>
                    <strong>b)</strong> Draw a graph of the remaining balance as a function of weeks.
                    <br><br>
                    <strong>c)</strong> Find <span class="math-notation">C(5)</span> and explain what it means in the context of the problem.
                    <br><br>
                    <strong>d)</strong> Find the intercepts and explain what they mean in the context of the problem.
                    <br><br>
                    <strong>e)</strong> What is an appropriate domain for your function? Explain why you chose it.
                    <br><br>
                    <strong>f)</strong> What does the slope mean in the context of the problem?
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea placeholder="Show your calculations and reasoning..."></textarea>
                </div>
                <div class="chart-container">
                    <canvas id="chart1" width="700" height="400"></canvas>
                </div>
                <div class="final-answer-box">
                    <label class="final-answer-label">Final Answers:</label>
                    <div class="input-group">
                        <label>a) Function C(w) =</label>
                        <input type="text" id="q1a">
                    </div>
                    <div class="input-group">
                        <label>c) C(5) =</label>
                        <input type="text" id="q1c">
                    </div>
                    <div class="input-group">
                        <label>c) Meaning of C(5):</label>
                        <textarea id="q1c_explain" style="min-height: 60px;"></textarea>
                    </div>
                    <div class="input-group">
                        <label>d) y-intercept and meaning:</label>
                        <textarea id="q1d_y" style="min-height: 60px;"></textarea>
                    </div>
                    <div class="input-group">
                        <label>d) x-intercept and meaning:</label>
                        <textarea id="q1d_x" style="min-height: 60px;"></textarea>
                    </div>
                    <div class="input-group">
                        <label>e) Domain:</label>
                        <textarea id="q1e" style="min-height: 60px;"></textarea>
                    </div>
                    <div class="input-group">
                        <label>f) Slope meaning:</label>
                        <textarea id="q1f" style="min-height: 60px;"></textarea>
                    </div>
                </div>
                <div class="answer-feedback" id="feedback1"></div>
            </div>

            <!-- Question 2: Laptop Value Problem (Exponential Decay) -->
            <div class="question-card">
                <div class="question-number">Question 2</div>
                <div class="question-text">
                    The value of a laptop, in dollars, is a function of the number of years since it was purchased, <span class="math-notation">t</span>. From year 0 to year 5, the value could be modeled by an exponential function <span class="math-notation">L</span>. Here is the graph of the function.
                </div>
                <div class="chart-container">
                    <canvas id="chart2"></canvas>
                </div>
                <div class="question-text">
                    <strong>a)</strong> Use the graph to estimate <span class="math-notation">L(2)</span> and explain what it means in the context of the problem.
                    <br><br>
                    <strong>b)</strong> Find <span class="math-notation">L<sup>-1</sup>(500)</span> and explain what it represents in this situation.
                    <br><br>
                    <strong>c)</strong> Keeping in mind that the function is exponential, by what factor did the laptop's value change each year? If you get stuck, consider creating a table and investigating what the values are being multiplied by each year. Each time the year increases by 1, what number does the value get multiplied by?
                    <br><br>
                    <strong>d)</strong> Use your answer to part (c) to write an equation for <span class="math-notation">L(t)</span>.
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea placeholder="Show your calculations and reasoning..."></textarea>
                </div>
                <div class="final-answer-box">
                    <label class="final-answer-label">Final Answers:</label>
                    <div class="input-group">
                        <label>a) L(2) ≈</label>
                        <input type="text" id="q2a">
                    </div>
                    <div class="input-group">
                        <label>a) Meaning:</label>
                        <textarea id="q2a_explain" style="min-height: 60px;"></textarea>
                    </div>
                    <div class="input-group">
                        <label>b) L<sup>-1</sup>(500) ≈</label>
                        <input type="text" id="q2b">
                    </div>
                    <div class="input-group">
                        <label>b) Meaning:</label>
                        <textarea id="q2b_explain" style="min-height: 60px;"></textarea>
                    </div>
                    <div class="input-group">
                        <label>c) Multiplication factor:</label>
                        <input type="text" id="q2c">
                    </div>
                    <div class="input-group">
                        <label>d) Equation L(t) =</label>
                        <input type="text" id="q2d">
                    </div>
                </div>
                <div class="answer-feedback" id="feedback2"></div>
            </div>

            <!-- Question 3: Swimming Pool Problem (Linear Function) -->
            <div class="question-card">
                <div class="question-number">Question 3</div>
                <div class="question-text">
                    A swimming pool contains 8,000 gallons of water. Water is being pumped out at a constant rate of 125 gallons per hour for maintenance.
                    <br><br>
                    <strong>a)</strong> Write a function <span class="math-notation">P(h)</span> for the amount of water in gallons, <span class="math-notation">P</span>, remaining in the pool after <span class="math-notation">h</span> hours.
                    <br><br>
                    <strong>b)</strong> What is the slope of this function? What does it represent?
                    <br><br>
                    <strong>c)</strong> Graph the function on the grid below.
                    <br><br>
                    <strong>d)</strong> After how many hours will the pool be completely empty?
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea placeholder="Show your calculations and reasoning..."></textarea>
                </div>
                <div class="chart-container">
                    <canvas id="chart3" width="700" height="400"></canvas>
                </div>
                <div class="final-answer-box">
                    <label class="final-answer-label">Final Answers:</label>
                    <div class="input-group">
                        <label>a) Function P(h) =</label>
                        <input type="text" id="q3a">
                    </div>
                    <div class="input-group">
                        <label>b) Slope:</label>
                        <input type="text" id="q3b">
                    </div>
                    <div class="input-group">
                        <label>b) Meaning of slope:</label>
                        <textarea id="q3b_explain" style="min-height: 60px;"></textarea>
                    </div>
                    <div class="input-group">
                        <label>d) Hours to empty:</label>
                        <input type="text" id="q3d">
                    </div>
                </div>
                <div class="answer-feedback" id="feedback3"></div>
            </div>

            <!-- Question 4: Population Growth Problem (Exponential) -->
            <div class="question-card">
                <div class="question-number">Question 4</div>
                <div class="question-text">
                    A small town has a population of 12,000 people. The population is growing at a rate of 3.5% per year.
                    <br><br>
                    <strong>a)</strong> Write an exponential function <span class="math-notation">P(t)</span> that models the town's population <span class="math-notation">t</span> years from now.
                    <br><br>
                    <strong>b)</strong> What will the population be after 8 years? Round to the nearest whole number.
                    <br><br>
                    <strong>c)</strong> In how many years will the population first exceed 18,000? Show your work.
                    <br><br>
                    <strong>d)</strong> Is this exponential growth or decay? Explain how you know.
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea placeholder="Show your calculations and reasoning..."></textarea>
                </div>
                <div class="final-answer-box">
                    <label class="final-answer-label">Final Answers:</label>
                    <div class="input-group">
                        <label>a) Function P(t) =</label>
                        <input type="text" id="q4a">
                    </div>
                    <div class="input-group">
                        <label>b) Population after 8 years:</label>
                        <input type="text" id="q4b">
                    </div>
                    <div class="input-group">
                        <label>c) Years to exceed 18,000:</label>
                        <input type="text" id="q4c">
                    </div>
                    <div class="input-group">
                        <label>d) Growth or decay and explanation:</label>
                        <textarea id="q4d" style="min-height: 60px;"></textarea>
                    </div>
                </div>
                <div class="answer-feedback" id="feedback4"></div>
            </div>

            <!-- Question 5: Hot Coffee Temperature (Exponential - Derive from Graph) -->
            <div class="question-card">
                <div class="question-number">Question 5</div>
                <div class="question-text">
                    A cup of hot coffee is cooling down in a room. The graph below shows the temperature (in °F) of the coffee over the first 5 minutes.
                    <br><br>
                    <strong>a)</strong> What is the initial temperature (at t = 0)? What is the temperature after 1 minute?
                    <br><br>
                    <strong>b)</strong> By what factor does the temperature change each minute? (Divide the temperature at minute 1 by the temperature at minute 0, then verify with other consecutive minutes)
                    <br><br>
                    <strong>c)</strong> Is this exponential growth or decay? Explain.
                    <br><br>
                    <strong>d)</strong> Write an exponential function <span class="math-notation">T(t)</span> that models the coffee temperature after <span class="math-notation">t</span> minutes. Use your answers from parts (a) and (b). (Note: The room temperature is 70°F, so the function models temperature above room temperature: T(t) = 70 + initial_excess × factor^t)
                    <br><br>
                    <strong>e)</strong> Use your equation to find the coffee temperature after 10 minutes. Round to the nearest whole number.
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea placeholder="Show your calculations and reasoning..."></textarea>
                </div>
                <div class="chart-container">
                    <canvas id="chart5"></canvas>
                </div>
                <div class="final-answer-box">
                    <label class="final-answer-label">Final Answers:</label>
                    <div class="input-group">
                        <label>a) Initial temperature (t=0):</label>
                        <input type="text" id="q5a1">
                    </div>
                    <div class="input-group">
                        <label>a) Temperature at t=1:</label>
                        <input type="text" id="q5a2">
                    </div>
                    <div class="input-group">
                        <label>b) Factor of change each minute:</label>
                        <input type="text" id="q5b">
                    </div>
                    <div class="input-group">
                        <label>c) Growth or decay:</label>
                        <textarea id="q5c" style="min-height: 60px;"></textarea>
                    </div>
                    <div class="input-group">
                        <label>d) Function T(t) =</label>
                        <input type="text" id="q5d">
                    </div>
                    <div class="input-group">
                        <label>e) Temperature after 10 minutes:</label>
                        <input type="text" id="q5e">
                    </div>
                </div>
                <div class="answer-feedback" id="feedback5"></div>
            </div>

            <!-- Question 6: Inverse Functions (Standard 3.i) -->
            <div class="question-card">
                <div class="question-number">Question 6</div>
                <div class="question-text">
                    If <span class="math-notation">g(x) = (3x + 7)/(2x - 5)</span>, what is <span class="math-notation">g<sup>-1</sup>(2)</span>?
                    <br><br>
                    Then find the inverse function <span class="math-notation">g<sup>-1</sup>(x)</span> for any value of x.
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea placeholder="Show your steps to find the inverse function and evaluate it..."></textarea>
                </div>
                <div class="final-answer-box">
                    <label class="final-answer-label">Final Answers:</label>
                    <div class="input-group">
                        <label>g<sup>-1</sup>(2) =</label>
                        <input type="text" id="q6a" style="width: 100px;">
                    </div>
                    <div class="input-group">
                        <label>g<sup>-1</sup>(x) =</label>
                        <input type="text" id="q6b" style="width: 250px;">
                    </div>
                </div>
                <div class="answer-feedback" id="feedback6"></div>
            </div>

            <!-- Question 7: Scatterplot and Line of Best Fit (Standard 4.d) -->
            <div class="question-card">
                <div class="question-number">Question 7</div>
                <div class="question-text">
                    A teacher tracks the number of hours students study each week and their quiz scores. The scatterplot shows the data with a line of best fit drawn.
                    <br><br>
                    <strong>a)</strong> What is the approximate slope of the line of best fit? Show how you calculated it using two points on the line.
                    <br><br>
                    <strong>b)</strong> Write the equation of the line of best fit in point-slope form using the point (4, 75).
                    <br><br>
                    <strong>c)</strong> Convert your equation to slope-intercept form.
                    <br><br>
                    <strong>d)</strong> Using your equation, predict the quiz score for a student who studies 11 hours per week.
                </div>
                <div class="chart-container">
                    <canvas id="chart7"></canvas>
                </div>
                <div class="work-area">
                    <span class="work-label">Show Your Work:</span>
                    <textarea placeholder="Show calculations for slope, equation, and predictions..."></textarea>
                </div>
                <div class="final-answer-box">
                    <label class="final-answer-label">Final Answers:</label>
                    <div class="input-group">
                        <label>a) Slope:</label>
                        <input type="text" id="q7a">
                    </div>
                    <div class="input-group">
                        <label>b) Point-slope form:</label>
                        <input type="text" id="q7b">
                    </div>
                    <div class="input-group">
                        <label>c) Slope-intercept form:</label>
                        <input type="text" id="q7c">
                    </div>
                    <div class="input-group">
                        <label>d) Predicted score for 11 hours:</label>
                        <input type="text" id="q7d">
                    </div>
                </div>
                <div class="answer-feedback" id="feedback7"></div>
            </div>

            <button type="button" class="print-btn" onclick="printTest()">Print Version (Black & White)</button>
            <button type="button" class="submit-btn" onclick="gradeQuiz121()">Submit Test</button>
            <button type="button" class="answer-key-btn" onclick="showQuiz251121AnswerKey()">View Answer Key</button>
            <button type="button" class="answer-key-btn" onclick="saveResults('quiz_251121_results')" style="background: var(--accent-blue);">Save Results</button>
            <button type="button" class="answer-key-btn" onclick="loadResults('quiz_251121_results')" style="background: var(--accent-navy);">Load Saved Results</button>
        </form>

        <div class="result" id="finalResult"></div>
    </div>

    <!-- Answer Key Modal -->
    <div id="answerKeyModal" class="answer-key-modal">
        <div class="answer-key-content">
            <button class="close-modal" onclick="closeAnswerKey()">×</button>
            <h2 class="answer-key-title">Answer Key</h2>
            <div id="answerKeyBody"></div>
        </div>
    </div>

    <script src="shared/scripts.js"></script>
    <script>
        // Custom resize handle positioning
        document.addEventListener('DOMContentLoaded', function() {
            initTextareaResize();
        });

        // Chart 1 - Interactive plotting grid for coffee gift card
        (function() {
            const canvas = document.getElementById('chart1');
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;
            const points = [];
            const marginLeft = 60;
            const marginRight = 20;
            const marginTop = 20;
            const marginBottom = 50;
            const plotWidth = width - marginLeft - marginRight;
            const plotHeight = height - marginTop - marginBottom;
            
            // Define axis ranges
            const xMin = 0, xMax = 15; // weeks
            const yMin = 0, yMax = 80; // dollars
            
            function drawGrid() {
                ctx.clearRect(0, 0, width, height);
                ctx.strokeStyle = '#ddd';
                ctx.lineWidth = 1;
                
                // Draw vertical grid lines
                for (let i = 0; i <= 15; i++) {
                    const x = marginLeft + (i / 15) * plotWidth;
                    ctx.beginPath();
                    ctx.moveTo(x, marginTop);
                    ctx.lineTo(x, height - marginBottom);
                    ctx.stroke();
                }
                
                // Draw horizontal grid lines
                for (let i = 0; i <= 10; i++) {
                    const y = marginTop + (i / 10) * plotHeight;
                    ctx.beginPath();
                    ctx.moveTo(marginLeft, y);
                    ctx.lineTo(width - marginRight, y);
                    ctx.stroke();
                }
                
                // Draw axes
                ctx.strokeStyle = '#000';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.moveTo(marginLeft, marginTop);
                ctx.lineTo(marginLeft, height - marginBottom);
                ctx.lineTo(width - marginRight, height - marginBottom);
                ctx.stroke();
                
                // Label axes
                ctx.fillStyle = '#000';
                ctx.font = '14px Arial';
                ctx.textAlign = 'center';
                
                // X-axis labels
                for (let i = 0; i <= 15; i += 3) {
                    const x = marginLeft + (i / 15) * plotWidth;
                    ctx.fillText(i, x, height - marginBottom + 20);
                }
                ctx.fillText('Weeks (w)', width / 2, height - 10);
                
                // Y-axis labels
                ctx.textAlign = 'right';
                for (let i = 0; i <= 80; i += 10) {
                    const y = height - marginBottom - (i / 80) * plotHeight;
                    ctx.fillText(i, marginLeft - 10, y + 5);
                }
                ctx.save();
                ctx.translate(15, height / 2);
                ctx.rotate(-Math.PI / 2);
                ctx.textAlign = 'center';
                ctx.fillText('Balance ($)', 0, 0);
                ctx.restore();
            }
            
            function drawPoints() {
                ctx.fillStyle = '#C8102E';
                points.forEach(p => {
                    ctx.beginPath();
                    ctx.arc(p.x, p.y, 5, 0, 2 * Math.PI);
                    ctx.fill();
                });
            }
            
            function drawLines() {
                if (points.length < 2) return;
                ctx.strokeStyle = '#C8102E';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.moveTo(points[0].x, points[0].y);
                for (let i = 1; i < points.length; i++) {
                    ctx.lineTo(points[i].x, points[i].y);
                }
                ctx.stroke();
            }
            
            function redraw() {
                drawGrid();
                drawLines();
                drawPoints();
            }
            
            canvas.addEventListener('click', function(e) {
                const rect = canvas.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                points.push({x, y});
                redraw();
            });
            
            canvas.addEventListener('contextmenu', function(e) {
                e.preventDefault();
                points.pop();
                redraw();
            });
            
            drawGrid();
        })();

        // Chart 2 - Laptop value exponential decay (0.75 factor each year)
        const laptopValues = [];
        for (let t = 0; t <= 5; t++) {
            laptopValues.push(1200 * Math.pow(0.75, t));
        }
        new Chart(document.getElementById('chart2'), {
            type: 'line',
            data: {
                labels: [0, 1, 2, 3, 4, 5],
                datasets: [{
                    label: 'Laptop Value ($)',
                    data: laptopValues,
                    borderColor: '#C8102E',
                    backgroundColor: '#C8102E',
                    tension: 0.4,
                    pointRadius: 3,
                    pointHoverRadius: 5,
                    pointStyle: 'circle',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: true,
                        position: 'top',
                        labels: {
                            usePointStyle: true,
                            pointStyle: 'line',
                            boxWidth: 100,
                            boxHeight: 4,
                            padding: 10,
                            font: {
                                size: 12
                            },
                            generateLabels: function(chart) {
                                const datasets = chart.data.datasets;
                                return datasets.map((dataset, i) => ({
                                    text: dataset.label,
                                    fillStyle: dataset.borderColor,
                                    strokeStyle: dataset.borderColor,
                                    lineWidth: 4,
                                    hidden: !chart.isDatasetVisible(i),
                                    datasetIndex: i,
                                    pointStyle: 'line'
                                }));
                            }
                        }
                    },
                    title: {
                        display: true,
                        text: 'Laptop Value Over Time',
                        font: { size: 16 }
                    }
                },
                scales: {
                    x: {
                        title: {
                            display: true,
                            text: 'Years since purchase'
                        },
                        min: 0,
                        max: 5
                    },
                    y: {
                        title: {
                            display: true,
                            text: 'Value ($)'
                        },
                        min: 0,
                        max: 1400
                    }
                }
            }
        });

        // Chart 3 - Interactive plotting grid for swimming pool
        (function() {
            const canvas = document.getElementById('chart3');
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;
            const points = [];
            const marginLeft = 60;
            const marginRight = 20;
            const marginTop = 20;
            const marginBottom = 50;
            const plotWidth = width - marginLeft - marginRight;
            const plotHeight = height - marginTop - marginBottom;
            
            // Define axis ranges
            const xMin = 0, xMax = 70; // hours
            const yMin = 0, yMax = 9000; // gallons
            
            function drawGrid() {
                ctx.clearRect(0, 0, width, height);
                ctx.strokeStyle = '#ddd';
                ctx.lineWidth = 1;
                
                // Draw vertical grid lines
                for (let i = 0; i <= 14; i++) {
                    const x = marginLeft + (i / 14) * plotWidth;
                    ctx.beginPath();
                    ctx.moveTo(x, marginTop);
                    ctx.lineTo(x, height - marginBottom);
                    ctx.stroke();
                }
                
                // Draw horizontal grid lines
                for (let i = 0; i <= 10; i++) {
                    const y = marginTop + (i / 10) * plotHeight;
                    ctx.beginPath();
                    ctx.moveTo(marginLeft, y);
                    ctx.lineTo(width - marginRight, y);
                    ctx.stroke();
                }
                
                // Draw axes
                ctx.strokeStyle = '#000';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.moveTo(marginLeft, marginTop);
                ctx.lineTo(marginLeft, height - marginBottom);
                ctx.lineTo(width - marginRight, height - marginBottom);
                ctx.stroke();
                
                // Label axes
                ctx.fillStyle = '#000';
                ctx.font = '14px Arial';
                ctx.textAlign = 'center';
                
                // X-axis labels
                for (let i = 0; i <= 70; i += 10) {
                    const x = marginLeft + (i / 70) * plotWidth;
                    ctx.fillText(i, x, height - marginBottom + 20);
                }
                ctx.fillText('Time (hours)', width / 2, height - 10);
                
                // Y-axis labels
                ctx.textAlign = 'right';
                for (let i = 0; i <= 9000; i += 1000) {
                    const y = height - marginBottom - (i / 9000) * plotHeight;
                    ctx.fillText(i, marginLeft - 10, y + 5);
                }
                ctx.save();
                ctx.translate(15, height / 2);
                ctx.rotate(-Math.PI / 2);
                ctx.textAlign = 'center';
                ctx.fillText('Water (gallons)', 0, 0);
                ctx.restore();
            }
            
            function drawPoints() {
                ctx.fillStyle = '#C8102E';
                points.forEach(p => {
                    ctx.beginPath();
                    ctx.arc(p.x, p.y, 5, 0, 2 * Math.PI);
                    ctx.fill();
                });
            }
            
            function drawLines() {
                if (points.length < 2) return;
                ctx.strokeStyle = '#C8102E';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.moveTo(points[0].x, points[0].y);
                for (let i = 1; i < points.length; i++) {
                    ctx.lineTo(points[i].x, points[i].y);
                }
                ctx.stroke();
            }
            
            function redraw() {
                drawGrid();
                drawLines();
                drawPoints();
            }
            
            canvas.addEventListener('click', function(e) {
                const rect = canvas.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                points.push({x, y});
                redraw();
            });
            
            canvas.addEventListener('contextmenu', function(e) {
                e.preventDefault();
                points.pop();
                redraw();
            });
            
            drawGrid();
        })();

        // Chart 5 - Coffee cooling (exponential decay with factor 0.85 above room temp)
        const coffeeData = [];
        const roomTemp = 70;
        const initialExcess = 130; // 200 - 70
        for (let t = 0; t <= 5; t += 1) {
            coffeeData.push({x: t, y: roomTemp + initialExcess * Math.pow(0.85, t)});
        }
        
        new Chart(document.getElementById('chart5'), {
            type: 'line',
            data: {
                datasets: [{
                    label: 'Coffee Temperature (°F)',
                    data: coffeeData,
                    borderColor: '#C8102E',
                    backgroundColor: '#C8102E',
                    tension: 0.4,
                    pointRadius: 3,
                    pointHoverRadius: 5,
                    pointStyle: 'circle',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: true,
                        position: 'top',
                        labels: {
                            usePointStyle: true,
                            pointStyle: 'line',
                            boxWidth: 100,
                            boxHeight: 4,
                            padding: 10,
                            font: {
                                size: 12
                            },
                            generateLabels: function(chart) {
                                const datasets = chart.data.datasets;
                                return datasets.map((dataset, i) => ({
                                    text: dataset.label,
                                    fillStyle: dataset.borderColor,
                                    strokeStyle: dataset.borderColor,
                                    lineWidth: 4,
                                    hidden: !chart.isDatasetVisible(i),
                                    datasetIndex: i,
                                    pointStyle: 'line'
                                }));
                            }
                        }
                    },
                    title: {
                        display: true,
                        text: 'Coffee Temperature Cooling Down',
                        font: { size: 16 }
                    }
                },
                scales: {
                    x: {
                        type: 'linear',
                        title: {
                            display: true,
                            text: 'Time (minutes)'
                        },
                        min: 0,
                        max: 5,
                        ticks: {
                            stepSize: 1
                        }
                    },
                    y: {
                        title: {
                            display: true,
                            text: 'Temperature (°F)'
                        },
                        min: 60,
                        max: 210,
                        ticks: {
                            stepSize: 20
                        }
                    }
                }
            }
        });

        // Chart 7 - Study time vs quiz score scatterplot
        new Chart(document.getElementById('chart7'), {
            type: 'scatter',
            data: {
                datasets: [{
                    label: 'Quiz Scores',
                    data: [
                        {x: 2, y: 65}, {x: 3, y: 68}, {x: 3.5, y: 72},
                        {x: 4, y: 75}, {x: 5, y: 78}, {x: 5.5, y: 82},
                        {x: 6, y: 85}, {x: 7, y: 88}, {x: 7.5, y: 90},
                        {x: 8, y: 92}, {x: 8.5, y: 95}, {x: 9, y: 94}
                    ],
                    borderColor: '#333',
                    backgroundColor: '#333',
                    pointRadius: 5,
                    pointHoverRadius: 7
                },
                {
                    label: 'Line of Best Fit',
                    type: 'line',
                    data: [
                        {x: 2, y: 65}, {x: 10, y: 105}
                    ],
                    borderColor: '#C8102E',
                    backgroundColor: 'transparent',
                    borderWidth: 2,
                    pointRadius: 0,
                    tension: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: { 
                        display: true, 
                        text: 'Study Time vs Quiz Score',
                        font: { size: 16, weight: 'bold' } 
                    },
                    legend: { display: false }
                },
                scales: {
                    x: { 
                        title: {
                            display: true,
                            text: 'Study Time (hours/week)'
                        },
                        min: 0,
                        max: 12,
                        grid: { display: true }
                    },
                    y: {
                        title: {
                            display: true,
                            text: 'Quiz Score'
                        },
                        min: 50,
                        max: 110,
                        grid: { display: true }
                    }
                }
            }
        });
        
        function showQuiz251121AnswerKey() {
            const answerKeyHTML = `
                <div class="answer-item"><strong>Question 1:</strong> Coffee Gift Card Problem
                    <br><br>
                    <strong>a) Function: C(w) = 75 - 6.25w</strong>
                    <br><br>
                    <em>Explanation:</em> Starting with $75, and spending $6.25 per week, the function is C(w) = 75 - 6.25w
                    <br><br>
                    <strong>c) C(5) = 75 - 6.25(5) = 75 - 31.25 = $43.75</strong>
                    <br><br>
                    <em>Meaning:</em> After 5 weeks, Mike will have $43.75 remaining on his gift card.
                    <br><br>
                    <strong>d) Intercepts:</strong>
                    <br><strong>y-intercept:</strong> (0, 75) - At the beginning (week 0), Mike has $75 on the card.
                    <br><strong>x-intercept:</strong> Set C(w) = 0: 75 - 6.25w = 0 → 6.25w = 75 → w = 12 weeks
                    <br>This means after 12 weeks, the card will have no balance remaining.
                    <br><br>
                    <strong>e) Domain: 0 ≤ w ≤ 12</strong>
                    <br><em>Explanation:</em> The domain starts at 0 (when he receives the card) and ends at 12 weeks (when the balance reaches $0).
                    <br><br>
                    <strong>f) Slope: -6.25</strong>
                    <br><em>Meaning:</em> The balance decreases by $6.25 per week. This represents his weekly coffee spending rate.
                </div>
                
                <div class="answer-item"><strong>Question 2:</strong> Laptop Value
                    <br><br>
                    <strong>a) L(2) ≈ $675</strong>
                    <br><em>Meaning:</em> After 2 years, the laptop is worth approximately $675.
                    <br><br>
                    <strong>b) L<sup>-1</sup>(500) ≈ 2.7 years (or between 2.5 and 3 years)</strong>
                    <br><em>Meaning:</em> When the laptop's value drops to $500, it will be approximately 2.7 years after purchase.
                    <br><br>
                    <strong>c) Multiplication factor = 0.75 (or 3/4)</strong>
                    <br><br>
                    <em>Work:</em> Looking at the values:
                    <br>Year 0: $1,200
                    <br>Year 1: $900 → 900/1200 = 0.75
                    <br>Year 2: $675 → 675/900 = 0.75
                    <br>Each year, the value is multiplied by 0.75 (decreases by 25%)
                    <br><br>
                    <strong>d) L(t) = 1200(0.75)<sup>t</sup></strong> or <strong>L(t) = 1200(3/4)<sup>t</sup></strong>
                </div>
                
                <div class="answer-item"><strong>Question 3:</strong> Swimming Pool
                    <br><br>
                    <strong>a) P(h) = 8000 - 125h</strong>
                    <br><br>
                    <em>Explanation:</em> The pool starts with 8,000 gallons and decreases by 125 gallons per hour.
                    <br><br>
                    <strong>b) Slope = -125</strong>
                    <br><em>Meaning:</em> The water amount decreases by 125 gallons per hour. The negative sign indicates the water is being pumped out.
                    <br><br>
                    <strong>d) 64 hours</strong>
                    <br><br>
                    <em>Work:</em> Set P(h) = 0: 8000 - 125h = 0 → 125h = 8000 → h = 8000/125 = 64 hours
                </div>
                
                <div class="answer-item"><strong>Question 4:</strong> Population Growth
                    <br><br>
                    <strong>a) P(t) = 12000(1.035)<sup>t</sup></strong>
                    <br><br>
                    <em>Explanation:</em> Initial population is 12,000, growth rate is 3.5% = 0.035, so the factor is 1 + 0.035 = 1.035
                    <br><br>
                    <strong>b) P(8) = 12000(1.035)<sup>8</sup> ≈ 12000(1.3168) ≈ 15,802</strong>
                    <br><br>
                    <strong>c) Approximately 12 years</strong>
                    <br><br>
                    <em>Work:</em> Solve 12000(1.035)<sup>t</sup> = 18000
                    <br>(1.035)<sup>t</sup> = 1.5
                    <br>t·log(1.035) = log(1.5)
                    <br>t = log(1.5)/log(1.035) ≈ 0.1761/0.0149 ≈ 11.8 years
                    <br>So approximately 12 years
                    <br><br>
                    <strong>d) Exponential GROWTH</strong>
                    <br><em>Explanation:</em> The base (1.035) is greater than 1, which means the population is increasing. Also, the growth rate is positive (+3.5%), which means it's growing.
                </div>
                
                <div class="answer-item"><strong>Question 5:</strong> Coffee Temperature
                    <br><br>
                    <strong>a) Initial temperature at t=0: 200°F</strong>
                    <br><strong>Temperature at t=1: 180.5°F</strong>
                    <br><br>
                    <em>Reading from graph:</em> At t=0, T=200°F. At t=1, T≈180.5°F.
                    <br><br>
                    <strong>b) Factor of change: 0.85</strong>
                    <br><br>
                    <em>Work:</em> The excess above room temp (70°F):
                    <br>At t=0: 200-70 = 130°F above room temp
                    <br>At t=1: 180.5-70 = 110.5°F above room temp
                    <br>Factor: 110.5/130 = 0.85
                    <br><br>
                    <strong>c) Exponential DECAY</strong>
                    <br><em>Explanation:</em> The temperature is decreasing over time, approaching room temperature. The factor (0.85) is less than 1, which indicates decay. The excess temperature above room temperature is multiplied by 0.85 each minute.
                    <br><br>
                    <strong>d) T(t) = 70 + 130(0.85)<sup>t</sup></strong>
                    <br><br>
                    <em>Explanation:</em> Room temperature is 70°F, initial excess is 130°F, and each minute the excess is multiplied by 0.85
                    <br><br>
                    <strong>e) T(10) = 70 + 130(0.85)<sup>10</sup> ≈ 70 + 130(0.1969) ≈ 70 + 25.6 ≈ 96°F</strong>
                    <br><br>
                    <em>Work:</em> (0.85)<sup>10</sup> ≈ 0.1969
                    <br>70 + 130 × 0.1969 ≈ 95.6°F ≈ 96°F
                </div>

                <div class="answer-item"><strong>Question 6:</strong> Inverse Functions g(x) = (3x + 7)/(2x - 5)
                    <br><br>
                    <strong>g<sup>-1</sup>(2) = 17</strong>
                    <br><br>
                    <em>Work:</em> First find the inverse function:
                    <br>y = (3x + 7)/(2x - 5)
                    <br>x = (3y + 7)/(2y - 5) (swap x and y)
                    <br>x(2y - 5) = 3y + 7 (multiply both sides by denominator)
                    <br>2xy - 5x = 3y + 7 (distribute)
                    <br>2xy - 3y = 5x + 7 (collect y terms)
                    <br>y(2x - 3) = 5x + 7 (factor out y)
                    <br>y = (5x + 7)/(2x - 3)
                    <br><br>
                    So <strong>g<sup>-1</sup>(x) = (5x + 7)/(2x - 3)</strong>
                    <br><br>
                    Now evaluate: g<sup>-1</sup>(2) = (5(2) + 7)/(2(2) - 3) = (10 + 7)/(4 - 3) = 17/1 = 17
                </div>

                <div class="answer-item"><strong>Question 7:</strong> Study Time Scatterplot
                    <br><br>
                    <strong>a) Slope = 5</strong>
                    <br><br>
                    <em>Work:</em> Using points (2, 65) and (10, 105) from the line:
                    <br>Slope = (105 - 65)/(10 - 2) = 40/8 = 5
                    <br><br>
                    <strong>b) Point-slope form: y - 75 = 5(x - 4)</strong>
                    <br><br>
                    <em>Explanation:</em> Using point (4, 75) and slope m = 5
                    <br><br>
                    <strong>c) Slope-intercept form: y = 5x + 55</strong>
                    <br><br>
                    <em>Work:</em> y - 75 = 5(x - 4)
                    <br>y - 75 = 5x - 20
                    <br>y = 5x + 55
                    <br><br>
                    <strong>d) Predicted score for 11 hours: 110</strong>
                    <br><br>
                    <em>Work:</em> y = 5(11) + 55 = 55 + 55 = 110
                </div>
            `;
            showAnswerKey(answerKeyHTML);
        }
        function gradeQuiz121() {
            gradeTest({
                questions: [
                    [[['q1a', 'c(w)=75-6.25w'], ['q1c', 43.75, 1]], 'feedback1'],
                    [[['q2a', 675, 50], ['q2b', 2.7, 0.5], ['q2c', 0.75, 0.05], ['q2d', 'l(t)=1200(0.75)^t']], 'feedback2'],
                    [[['q3a', 'p(h)=8000-125h'], ['q3b', -125, 1], ['q3d', 64, 2]], 'feedback3'],
                    [[['q4a', 'p(t)=12000(1.035)^t'], ['q4b', 15802, 200], ['q4c', 12, 1]], 'feedback4'],
                    [[['q5a1', 200, 1], ['q5a2', 180.5, 2], ['q5b', 0.85, 0.05], ['q5d', 't(t)=70+130(0.85)^t'], ['q5e', 96, 5]], 'feedback5'],
                    [[['q6a', 17, 0.5], ['q6b', '(5x+7)/(2x-3)']], 'feedback6'],
                    [[['q7a', 5, 0.5], ['q7b', 'y-75=5(x-4)'], ['q7c', 'y=5x+55'], ['q7d', 110, 1]], 'feedback7']
                ],
                standards: [
                    {id: '4.b', name: 'Write linear models'},
                    {id: '5.c', name: 'Exponential decay'},
                    {id: '4.b', name: 'Write linear models'},
                    {id: '5.b', name: 'Exponential growth'},
                    {id: '5.c', name: 'Exponential decay'},
                    {id: '3.i', name: 'Finding inverse functions'},
                    {id: '4.c', name: 'Equations from points'}
                ],
                feedbacks: [
                    ['✓ C(w)=75-6.25w', '✗ Start 75, lose 6.25/wk', '✓ $43.75', '✗ 75-6.25(5)=43.75'],
                    ['✓ ≈$675', '✗ 1200(0.75)²≈675', '✓ ≈2.7 yrs', '✗ Solve 500=1200(0.75)^t', '✓ 0.75', '✗ Decreases 25%/yr', '✓ L(t)=1200(0.75)^t', '✗ Initial·(rate)^t'],
                    ['✓ P(h)=8000-125h', '✗ Start 8000, lose 125/hr', '✓ -125', '✗ Slope = rate of decrease', '✓ 64 hours', '✗ 8000/125=64'],
                    ['✓ P(t)=12000(1.035)^t', '✗ 12000·(1+.035)^t', '✓ ≈$15,802', '✗ 12000(1.035)^8', '✓ ≈12 years', '✗ Solve 24000=12000(1.035)^t'],
                    ['✓ 200°F', '✗ Initial temp', '✓ 180.5°F', '✗ 70+130(0.85)¹', '✓ 0.85', '✗ Cooling factor', '✓ T(t)=70+130(0.85)^t', '✗ Room temp + excess·rate^t', '✓ ≈96°F', '✗ 70+130(0.85)^5'],
                    ['✓ g⁻¹(2)=17', '✗ Solve g(x)=2', '✓ g⁻¹(x)=(5x+7)/(2x-3)', '✗ Swap and solve for x'],
                    ['✓ Slope=5', '✗ (95-75)/(8-4)=5', '✓ y-75=5(x-4)', '✗ Point-slope form', '✓ y=5x+55', '✗ Expand: 5x-20+75', '✓ 110', '✗ 5(11)+55=110']
                ],
                storageKey: 'quiz_251121'
            });
        }
    </script>

    <nav class="test-nav" role="navigation" aria-label="Page navigation" style="text-align:center; padding:20px 0; font-size:0.95em;">
        <a href="index.html" style="color:var(--accent-blue); font-weight:600; margin-right:16px;">← Dashboard</a>
        <a href="parent.html" style="color:var(--accent-navy); font-weight:600;">📊 Parent View</a>
    </nav></body>
</html>

# Motor City Math â€” MVP Exam Spec

**Author:** Design Agent
**Date:** 2026-02-17
**Status:** URGENT â€” ship by 2pm
**Target:** Single HTML file: `nonlinear_exam_mvp.html`
**Constraint:** All new numbers. Kai has seen the source tests. Same question TYPES, fresh VALUES.

---

## Exam Structure

**Title:** Algebra 2: Nonlinear Functions Exam
**Subtitle:** Unit 2 Â· Standards W2 & W3 Â· 15 Questions Â· ~60 min
**File:** `nonlinear_exam_mvp.html`

**Uses:** `shared/styles.css`, `shared/scripts.js`, `shared/print.css`, MathJax

---

## Math Input Design

**Principle:** Kai never needs a special character. Every input is a number, a dropdown, or short text with a clear placeholder.

### Input Types by Question Category

| Category | Input Method | Example |
|----------|-------------|---------|
| Parent functions | `<select>` dropdown | Options: quadratic, cubic, abs value, square root, exponential, rational |
| Equation solving | Number input(s) | Kai types `2.236` not `âˆš5` |
| Â± answers | Two labeled number inputs | `xâ‚ =` `[___]` and `xâ‚‚ =` `[___]` |
| Vertex / intercepts | Labeled number inputs | `x =` `[___]` `y =` `[___]` |
| Asymptotes | Labeled number inputs | `Vertical: x =` `[___]` `Horizontal: y =` `[___]` |
| Formula rearrange | Multiple choice (4 options) | Radio buttons with MathJax-rendered choices |
| Word problem answer | Single number input | `t =` `[___]` `hours` |
| Transformations | Textarea (self-graded) | Placeholder: "Describe each transformation..." |
| Domain/Range | Textarea (self-graded) | Placeholder: "Domain: ... Range: ..." |

### Notation Cheat Sheet (sticky top bar)

A single line pinned below the header, visible on scroll:

> **Typing math?** `^` for exponents (x^2) Â· `sqrt()` for âˆš Â· `pi` for Ï€ Â· Decimals OK (2.236 instead of âˆš5)

Style: `font-size: 0.85rem`, `background: var(--navy)`, `color: white`, `padding: 6px 16px`, `position: sticky`, `top: 0`, `z-index: 10`.

### Parent Function Dropdown

```html
<select id="q1_parent" class="math-select">
  <option value="">â€” Choose parent function â€”</option>
  <option value="quadratic">y = xÂ² (quadratic)</option>
  <option value="cubic">y = xÂ³ (cubic)</option>
  <option value="absolute">y = |x| (absolute value)</option>
  <option value="sqrt">y = âˆšx (square root)</option>
  <option value="exponential">y = bË£ (exponential)</option>
  <option value="rational">y = 1/x (rational)</option>
</select>
```

Auto-grade matches the `value` attribute. Style: same height/border as text inputs, Pistons navy on focus.

---

## Questions

### Section A â€” Identify & Transform (3 Qs)

**Input:** Dropdown for parent function (auto-graded). Textarea for transformations (self-graded).
Q2 & Q3 add labeled number inputs for x-intercepts (auto-graded) + textarea for domain/range (self-graded).

**Q1.** Identify the parent function and describe all transformations.
`f(x) = 2(x - 3)Â³ + 1`
- **Parent:** cubic â†’ dropdown value `"cubic"`
- **Transformations:** Vertical stretch by 2, right 3, up 1
- **Auto-grade:** dropdown selection only
- **Inputs:** `<select>` for parent, `<textarea>` for transformations

**Q2.** Identify parent, describe transformations, state domain, range, and find x-intercepts.
`f(x) = -|x + 4| + 3`
- **Parent:** absolute value â†’ dropdown value `"absolute"`
- **X-intercepts:** x = -1 and x = -7
- **Transformations:** Reflect over x-axis, left 4, up 3
- **Domain:** all real numbers / Range: y â‰¤ 3
- **Auto-grade:** dropdown + two number inputs for intercepts (tolerance Â±0.1)
- **Inputs:** `<select>`, `xâ‚ = [___]` `xâ‚‚ = [___]`, `<textarea>` for transformations + domain/range

**Q3.** Identify parent, describe transformations, state domain, range, and find x-intercepts.
`f(x) = 3(x - 1)Â² - 12`
- **Parent:** quadratic â†’ dropdown value `"quadratic"`
- **X-intercepts:** x = 3 and x = -1
- **Transformations:** Vertical stretch by 3, right 1, down 12
- **Domain:** all real numbers / Range: y â‰¥ -12
- **Auto-grade:** dropdown + two number inputs for intercepts (tolerance Â±0.1)
- **Inputs:** `<select>`, `xâ‚ = [___]` `xâ‚‚ = [___]`, `<textarea>` for transformations + domain/range

---

### Section B â€” Solve Nonlinear Equations (8 Qs)

**Input:** All numeric. Single `x = [___]` for one-answer questions. Two inputs `xâ‚ = [___]` `xâ‚‚ = [___]` for Â± answers. Textarea for work (self-graded). All auto-graded.

**Q4.** Solve: `2^(3x - 1) = 32`
- **Answer:** 2
- **Input:** `x = [___]` (single number, placeholder: "e.g. 2")
- **Tolerance:** Â±0.01

**Q5.** Solve: `3(2x + 1)Â² - 5 = 7`
- **Answer:** 0.5 and -1.5
- **Input:** `xâ‚ = [___]` `xâ‚‚ = [___]` (placeholder: "e.g. 0.5")
- **Tolerance:** Â±0.1 each. Grade correct if either value is in either box.

**Q6.** Solve: `âˆš(3xÂ² + 1) - 4 = 0`
- **Answer:** Â±2.236 (Â±âˆš5)
- **Input:** `xâ‚ = [___]` `xâ‚‚ = [___]` (placeholder: "decimal, e.g. 2.236")
- **Tolerance:** Â±0.01

**Q7.** Solve: `5^(2 - x) + 3 = 4`
- **Answer:** 2
- **Input:** `x = [___]`
- **Tolerance:** Â±0.01

**Q8.** Solve: `(4x + 3)/(x - 2) = 7`
- **Answer:** 5.667 (17/3)
- **Input:** `x = [___]` (placeholder: "decimal or fraction, e.g. 5.667")
- **Tolerance:** Â±0.01

**Q9.** Solve: `âˆš(4x - 3) = âˆš(x + 6)`
- **Answer:** 3
- **Input:** `x = [___]`
- **Tolerance:** Â±0.01

**Q10.** Solve: `4 Â· 3^(xÂ² - 2) = 108`
- **Answer:** Â±2.236 (Â±âˆš5)
- **Input:** `xâ‚ = [___]` `xâ‚‚ = [___]`
- **Tolerance:** Â±0.01

**Q11.** Solve: `2x^(3/2) + 4 = 58`
- **Answer:** 9
- **Input:** `x = [___]`
- **Tolerance:** Â±0.01

---

### Section C â€” Graph & Analyze (2 Qs)

**Input:** Interactive canvas graphing with auto-checked points. Labeled number inputs for key values.

#### Graphing Interaction Model

1. **Kai places points** by clicking on the grid canvas (same click-to-plot UX as `nonlinear_functions_test.html`). Click near an existing point to remove it.
2. **Minimum required:** Vertex/key point + 4 additional points (5 total minimum). The [CHECK GRAPH] button is disabled until 5+ points are placed. Show counter: `Points: 3/5 minimum`.
3. **[CHECK GRAPH]** evaluates each point against the actual function:
   - For each plotted point `(px, py)`, compute `f(px)` and compare to `py`.
   - **Tolerance: Â±0.4 grid units** on the y-axis. Tight enough that a full integer error fails, loose enough for click imprecision.
   - âœ… Within tolerance â†’ point turns **green**
   - âŒ Outside tolerance â†’ point turns **red**
   - Show result: `4/5 points correct`
4. **If any red points â†’ trigger hint system** (3-layer from `.hint-system-spec.md`):
   - ğŸ’¡ **Hint:** Question-specific nudge (e.g., "The vertex is at (-2, 5). Try plotting symmetric points on each side.")
   - âœ“ **Answer:** Overlay the correct curve in Pistons blue (#1D42BA) on the canvas
   - ğŸ“ **Solution:** Step-by-step table of key points (vertex, intercepts, 2 additional)
5. **If all points green** â†’ auto-connect curve in green + "ğŸ”¥ Clean graph."
6. **For Q13 (rational function):** Kai must also place asymptotes using [ADD VERTICAL ASYMPTOTE] and [ADD HORIZONTAL ASYMPTOTE] buttons before checking. Asymptote tolerance: Â±0.4 grid units. Asymptotes render as dashed blue lines.

#### Point-Check Algorithm (pseudocode)

```js
function checkGraphPoints(canvasId, targetFunc, tolerance) {
    // tolerance = 0.4 grid units
    const data = graphData[canvasId];
    let correct = 0;
    
    for (const point of data.points) {
        // Convert screen coords to graph coords
        const gx = screenToGraphX(point.x);
        const gy = screenToGraphY(point.y);
        const expected = targetFunc(gx);
        
        if (Math.abs(gy - expected) <= tolerance) {
            point.status = 'correct';   // render green
            correct++;
        } else {
            point.status = 'incorrect'; // render red
        }
    }
    return { correct, total: data.points.length };
}

// Q12: f(x) = -(x + 2)Â² + 5
const q12Func = x => -(x + 2) ** 2 + 5;

// Q13: f(x) = 3/(x - 1) - 2  (skip if |x - 1| < 0.1 for asymptote)
const q13Func = x => 3 / (x - 1) - 2;
```

#### E2E Test Requirements

**Agent F: Build automated tests for graphing. This code is error-prone.**

```
TEST SUITE: graphing-e2e

Q12 â€” Parabola: f(x) = -(x + 2)Â² + 5
  âœ“ Vertex at (-2, 5) â†’ green
  âœ“ Point at (0, 1) â†’ green [f(0) = -(0+2)Â²+5 = 1]
  âœ“ Point at (-4, 1) â†’ green [f(-4) = -(-4+2)Â²+5 = 1]
  âœ“ Point at (-1, 4) â†’ green [f(-1) = -(-1+2)Â²+5 = 4]
  âœ“ Point at (-3, 4) â†’ green [f(-3) = -(-3+2)Â²+5 = 4]
  âœ“ Point at (0, 3) â†’ RED [f(0) = 1, off by 2.0]
  âœ“ Point at (-2, 4) â†’ RED [f(-2) = 5, off by 1.0]
  âœ“ Point at (-2, 4.7) â†’ green [f(-2) = 5, off by 0.3 < 0.4]
  âœ“ 4 points required error when only 3 placed
  âœ“ CHECK GRAPH disabled until 5+ points

Q13 â€” Rational: f(x) = 3/(x - 1) - 2
  âœ“ Point at (2, 1) â†’ green [f(2) = 3/1 - 2 = 1]
  âœ“ Point at (4, -1) â†’ green [f(4) = 3/3 - 2 = -1]
  âœ“ Point at (-2, -3) â†’ green [f(-2) = 3/(-3) - 2 = -3]
  âœ“ Point at (0, -5) â†’ green [f(0) = 3/(-1) - 2 = -5]
  âœ“ Point at (2, 3) â†’ RED [f(2) = 1, off by 2.0]
  âœ“ Vertical asymptote at x = 1 â†’ green (tolerance Â±0.4)
  âœ“ Horizontal asymptote at y = -2 â†’ green (tolerance Â±0.4)
  âœ“ Vertical asymptote at x = 2 â†’ RED [expected x = 1]
  âœ“ Horizontal asymptote at y = 0 â†’ RED [expected y = -2]
  âœ“ Missing asymptotes â†’ error "Place both asymptotes before checking"
```

---

**Q12.** Graph `f(x) = -(x + 2)Â² + 5`. State the vertex, domain, and range.
- **Vertex:** (-2, 5)
- **Required points:** vertex + 4 (minimum 5 total)
- **Key points for answer overlay:** (-4, 1), (-3, 4), (-2, 5), (-1, 4), (0, 1)
- **Input:** `Vertex x = [___]` `y = [___]` (two number inputs)
- **Auto-grade:** vertex Â±0.1, graph points Â±0.4
- **Hint:** "The vertex is at (-2, 5). Plot it first, then pick 2 x-values on each side."
- **Self-graded:** domain/range textarea

**Q13.** Graph `f(x) = 3/(x - 1) - 2` and draw asymptotes. State domain and range.
- **Vertical asymptote:** x = 1
- **Horizontal asymptote:** y = -2
- **Required:** both asymptotes + 4 points (minimum 6 items)
- **Key points for answer overlay:** (-2, -3), (0, -5), (2, 1), (4, -1)
- **Input:** `Vertical asymptote: x = [___]` `Horizontal asymptote: y = [___]`
- **Auto-grade:** asymptotes Â±0.1, graph points Â±0.4
- **Hint:** "This is y = 1/x shifted. The vertical asymptote is where the denominator = 0."
- **Self-graded:** domain/range textarea

---

### Section D â€” Apply (2 Qs)

**Q14.** The formula for the area of a circle is `A = Ï€rÂ²`. Solve for r in terms of A.

**Input:** Multiple choice (radio buttons, MathJax-rendered):
```
â—‹  r = A / (2Ï€)
â—‹  r = âˆš(A/Ï€)       â† correct
â—‹  r = AÂ² / Ï€
â—‹  r = âˆš(AÏ€)
```
- **Auto-grade:** radio selection, correct = option B
- **Work area:** textarea (self-graded, "Show your algebraic steps...")

**Q15.** A bacteria colony starts with 200 bacteria and triples every 4 hours.
(a) Write an exponential model for the population P after t hours.
(b) How many hours until the population reaches 48,600?
- **Model:** P(t) = 200 Â· 3^(t/4)
- **Answer (b):** t = 20 hours
- **Input (a):** textarea (self-graded, placeholder: "P(t) = ...")
- **Input (b):** `t = [___] hours` (single number input)
- **Auto-grade:** answer (b) with Â±0.5 tolerance
- **Work area:** textarea (self-graded)

---

## Layout

Use existing Pistons design from `shared/styles.css`. Structure per test file:

```
Sticky notation bar ("Typing math? ^ for exponents...")
header (title, subtitle, stripe)
Section A divider â†’ Q1-Q3 (dropdown + textarea + labeled number inputs)
Section B divider â†’ Q4-Q11 (number input(s) + work textarea)
Section C divider â†’ Q12-Q13 (canvas + labeled number inputs + domain/range textarea)
Section D divider â†’ Q14 (multiple choice radio) + Q15 (textarea + number input)
[CHECK ANSWERS] button â†’ runs gradeTest() on auto-gradable fields
[PRINT] button
[ANSWER KEY] button (password protected)
[SAVE] / [LOAD] buttons
```

## Grading

Use `gradeTest()` from `shared/scripts.js`. Config:

- **12 auto-graded answers:** Q1-Q3 parents, Q4-Q11 solutions, Q12-Q13 key values, Q14-Q15 answers
- **Self-check:** Q1-Q3 transformations, Q12-Q13 graphs, all work areas
- **Score display:** Uses voice-guide copy ("ğŸ”¥ Locked in." / "Getting there." etc.)
- **Save key:** `mcm-nonlinear-exam-mvp`

### SAAS 4-Point Grade Display

After grading, show Kai's SAAS grade alongside the percentage:

| Percent | Grade | Display |
|---------|-------|---------|
| â‰¥ 92%   | 4 (A) | `Score: 14/15 (93%) â€” Grade: 4` |
| 82â€“91%  | 3 (B) | `Score: 12/15 (80%) â€” Grade: 3` |
| 70â€“81%  | 2 (C) | `Score: 11/15 (73%) â€” Grade: 2` |
| < 70%   | 1 (D) | `Score: 8/15 (53%) â€” Grade: 1`  |

Render grade as a large, bold number next to the score bar. Color-code:
- **4:** Pistons blue (#1D42BA)
- **3:** Chrome (#6C6E70)
- **2:** Warning amber (#E8A317)
- **1:** Pistons red (#C8102E)

## Print

Standard print layout via `shared/print.css`. Print header with Name/Date fields.

---

## âš ï¸ MATH VERIFICATION REQUIRED

**Agent R must verify every answer before this ships.** All numbers are new â€” not copied from existing tests. Verify:
- Q4: 2^(3Â·2 - 1) = 2^5 = 32 âœ“
- Q5: 3(2Â·0.5+1)Â² - 5 = 3(4) - 5 = 7 âœ“ and 3(2Â·(-1.5)+1)Â² - 5 = 3(4) - 5 = 7 âœ“
- Q6: âˆš(3Â·5 + 1) = âˆš16 = 4 âœ“
- Q7: 5^(2-2) + 3 = 1 + 3 = 4 âœ“
- Q8: (4Â·17/3 + 3)/(17/3 - 2) = (68/3 + 9/3)/(17/3 - 6/3) = (77/3)/(11/3) = 7 âœ“
- Q9: âˆš(4Â·3-3) = âˆš9 = 3, âˆš(3+6) = âˆš9 = 3 âœ“
- Q10: 4Â·3^(5-2) = 4Â·27 = 108 âœ“
- Q11: 2Â·9^(3/2) + 4 = 2Â·27 + 4 = 58 âœ“
- Q12: vertex of -(x+2)Â²+5 at (-2,5) âœ“
- Q13: asymptotes x=1, y=-2 for 3/(x-1)-2 âœ“
- Q14: A = Ï€rÂ² â†’ r = âˆš(A/Ï€) âœ“
- Q15: 200Â·3^(20/4) = 200Â·3^5 = 200Â·243 = 48600 âœ“

All check out. **Agent R: please double-verify independently.**

---

*Agent A: Build this as a single HTML file. Copy the structure from `unit2_nonlinear_review.html` (it has sections, MathJax, shared CSS/JS). The grading config uses `gradeTest()` from shared/scripts.js. Canvas graphing code can be copied from `nonlinear_functions_test.html` for Q12-Q13. Ship by 2pm.*
